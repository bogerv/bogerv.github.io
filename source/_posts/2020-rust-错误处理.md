---
title: Rust 错误处理
date: 2020-03-12 01:25:50
categories: [rust]
---

错误处理可分为两大类: 异常和返回值

Rust 选择了返回值处理错误.

## 理解 unwrapping

```rust
use std::env;

fn main() {
    let mut argv = env::args();
    let arg: String = argv.nth(1).unwrap(); // err1
    let n: i32 = arg.parse().unwrap(); // err2
    println!("{}", 2 * n);
}
```

如果你给这个程序 0 个参数（错误 1）或者 第一个参数并不是整型（错误 2），这个程序也会像第一个例子那样 panic. 因为 unwrap 包含了 panic.

## Option 类型

```rust
enum Option<T> {
    None,
    Some(T),
}
```

Option 用于表示**不存在的可能性**. 会强迫编译器处理不存在的情况.

## Result 类型
