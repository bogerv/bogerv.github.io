<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ä¸€æ–‡ç†è§£rustup, rustc, cargo</title>
      <link href="/2020/05/09/2020-00.%E4%B8%80%E6%96%87%E7%90%86%E8%A7%A3rustup,%20rustc,%20cargo/"/>
      <url>/2020/05/09/2020-00.%E4%B8%80%E6%96%87%E7%90%86%E8%A7%A3rustup,%20rustc,%20cargo/</url>
      
        <content type="html"><![CDATA[<h2 id="rustup"><a href="#rustup" class="headerlink" title="rustup"></a>rustup</h2><p>æ˜¯ rustc çš„ç‰ˆæœ¬ç®¡ç†å·¥å…·, å…·ä½“å‘½ä»¤å¯ä»¥ä½¿ç”¨ <code>rustup --help</code> è¿›è¡ŒæŸ¥çœ‹.<br>ä¸‹é¢ä¼šåˆ—ä¸¾å†™æ¯”è¾ƒå¸¸ç”¨çš„å‘½ä»¤ç¤ºä¾‹.</p><h3 id="rustup-update"><a href="#rustup-update" class="headerlink" title="rustup update"></a>rustup update</h3><p>ä½¿ç”¨ <code>rustup update --help</code> å¯ä»¥çœ‹åˆ°å¦‚ä¸‹è¾“å‡º:</p><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">USAGE:</span><br><span class="line">    rustup update [FLAGS] [toolchain]...</span><br><span class="line"></span><br><span class="line">FLAGS:</span><br><span class="line">        --force             Force an update, even <span class="keyword">if</span> some components are missing</span><br><span class="line">    -h, --help              Prints <span class="built_in">help</span> information</span><br><span class="line">        --no-self-update    Don<span class="string">'t perform self update when running the `rustup update` command</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ARGS:</span></span><br><span class="line"><span class="string">    &lt;toolchain&gt;...    Toolchain name, such as '</span>stable<span class="string">', '</span>nightly<span class="string">', or '</span>1.8.0<span class="string">'. For more information see `rustup help</span></span><br><span class="line"><span class="string">                      toolchain`</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥ç¬¬äºŒä¸ª(æ›´æ–°æ ‡è¯†)ä»¥åŠç¬¬ä¸‰ä¸ªå‚æ•°(æ›´æ–°çš„å·¥å…·é“¾), ç¬¬ä¸‰ä¸ªå‚æ•°å¯ä»¥é€‰æ‹©</p><ul><li><code>stable</code> (æ›´æ–° <code>rustc</code> åˆ°æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬)</li><li><code>nightly</code> (æ›´æ–° <code>rustc</code> åˆ°æœ€æ–°çš„éç¨³å®šç‰ˆæœ¬)</li><li><code>1.8.0</code> (æ›´æ–° <code>rustc</code> åˆ°æŒ‡å®šæŸä¸ªç‰ˆæœ¬)</li></ul><blockquote><p>å¦‚æœç›´æ¥è¿è¡Œ <code>rustup update</code> ä¼šç›´æ¥æ›´æ–°æ‰€æœ‰å·²ç»å®‰è£…çš„ <code>toolchain</code>, ç„¶åå†æ›´æ–° <code>rustup</code> æœ¬èº«</p></blockquote><h3 id="rustup-default"><a href="#rustup-default" class="headerlink" title="rustup default"></a>rustup default</h3><p>ç”¨äºæŒ‡å®šä½¿ç”¨çš„ rustc toolchain: </p><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŒ‡å®š rustc çš„ç‰ˆæœ¬ä¸º stable çš„æœ€æ–°ç‰ˆæœ¬</span></span><br><span class="line">rustup default stable</span><br></pre></td></tr></table></figure><h3 id="rustup-self-uninstall"><a href="#rustup-self-uninstall" class="headerlink" title="rustup self uninstall"></a>rustup self uninstall</h3><p>å¸è½½ <code>rustup</code></p><h2 id="rustc"><a href="#rustc" class="headerlink" title="rustc"></a>rustc</h2><p><code>rustc</code> æ˜¯ <code>Rustç¼–ç¨‹è¯­è¨€</code> çš„ç¼–è¯‘å™¨, ä¼šå°† <code>.rs</code> ç±»å‹çš„æ–‡ä»¶ç¼–è¯‘ä¸ºå¯æ‰§è¡Œæ–‡ä»¶.<br>ä¸ <code>gcc</code> çš„åŠŸèƒ½æ¯”è¾ƒç±»ä¼¼, å¯ä»¥æŒ‡å®šç›¸å…³å‚æ•°.</p><p>ä¸‹æ–‡å°†è¦è®²åˆ°çš„ <code>cargo</code> å®é™…ä¸Šå°±æ˜¯ä¾èµ–äº <code>rustc</code> è¿›è¡Œå„ç§æ“ä½œçš„.</p><p>æ‰§è¡Œ <code>cargo build --verbose</code> å‘½ä»¤å¾—åˆ°å¦‚ä¸‹è¾“å‡º:</p><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(base) ~/demos/rust/hello-rust/cargo_hello ğŸ³ cargo build --verbose</span><br><span class="line">   Compiling cargo_hello v0.1.0 (/Users/wangbo/demos/rust/hello-rust/cargo_hello)</span><br><span class="line">     Running `rustc --crate-name cargo_hello --edition=2018 src/main.rs --error-format=json --json=diagnostic-rendered-ansi --crate-type bin --emit=dep-info,link -C debuginfo=2 -C metadata=e61da58ee0da174a -C extra-filename=<span class="_">-e</span>61da58ee0da174a --out-dir /Users/wangbo/demos/rust/hello-rust/cargo_hello/target/debug/deps -C incremental=/Users/wangbo/demos/rust/hello-rust/cargo_hello/target/debug/incremental -L dependency=/Users/wangbo/demos/rust/hello-rust/cargo_hello/target/debug/deps`</span><br><span class="line">    Finished dev [unoptimized + debuginfo] target(s) <span class="keyword">in</span> 1.28s</span><br><span class="line">(base) ~/demos/rust/hello-rust/cargo_hello ğŸ³</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å®é™…ä¸Šä¹Ÿæ˜¯è°ƒç”¨äº† <code>rustc</code> ,å¹¶æŒ‡å®šç›¸å…³å‚æ•°æ‰§è¡Œç¼–è¯‘çš„.</p><h2 id="cargo"><a href="#cargo" class="headerlink" title="cargo"></a>cargo</h2><p><code>cargo</code> æ˜¯ä¸€ä¸ªä¾èµ–ç‰ˆæœ¬ç®¡ç†å·¥å…·. å¦‚åŒ <code>Java</code> çš„ <code>Maven</code>, <code>C#</code> çš„ <code>NuGet</code>;</p><p>å…·ä½“æ“ä½œæœ‰ä¸€æœ¬ä¸“é—¨çš„å°å†Œè®²è§£å…¶å„ç§å‘½ä»¤: <a href="https://doc.rust-lang.org/cargo/getting-started/installation.html" target="_blank" rel="noopener">The Cargo Book</a></p>]]></content>
      
      
      <categories>
          
          <category> rust </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Rust é”™è¯¯å¤„ç†</title>
      <link href="/2020/03/12/2020-rust-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/"/>
      <url>/2020/03/12/2020-rust-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p>é”™è¯¯å¤„ç†å¯åˆ†ä¸ºä¸¤å¤§ç±»: å¼‚å¸¸å’Œè¿”å›å€¼</p><p>Rust é€‰æ‹©äº†è¿”å›å€¼å¤„ç†é”™è¯¯.</p><h2 id="ç†è§£-unwrapping"><a href="#ç†è§£-unwrapping" class="headerlink" title="ç†è§£ unwrapping"></a>ç†è§£ unwrapping</h2><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::env;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> argv = env::args();</span><br><span class="line">    <span class="keyword">let</span> arg: <span class="built_in">String</span> = argv.nth(<span class="number">1</span>).unwrap(); <span class="comment">// err1</span></span><br><span class="line">    <span class="keyword">let</span> n: <span class="keyword">i32</span> = arg.parse().unwrap(); <span class="comment">// err2</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, <span class="number">2</span> * n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ ç»™è¿™ä¸ªç¨‹åº 0 ä¸ªå‚æ•°ï¼ˆé”™è¯¯ 1ï¼‰æˆ–è€… ç¬¬ä¸€ä¸ªå‚æ•°å¹¶ä¸æ˜¯æ•´å‹ï¼ˆé”™è¯¯ 2ï¼‰ï¼Œè¿™ä¸ªç¨‹åºä¹Ÿä¼šåƒç¬¬ä¸€ä¸ªä¾‹å­é‚£æ · panic. å› ä¸º unwrap åŒ…å«äº† panic.</p><h2 id="Option-ç±»å‹"><a href="#Option-ç±»å‹" class="headerlink" title="Option ç±»å‹"></a>Option ç±»å‹</h2><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Option</span></span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="literal">None</span>,</span><br><span class="line">    <span class="literal">Some</span>(T),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Option ç”¨äºè¡¨ç¤º<strong>ä¸å­˜åœ¨çš„å¯èƒ½æ€§</strong>. ä¼šå¼ºè¿«ç¼–è¯‘å™¨å¤„ç†ä¸å­˜åœ¨çš„æƒ…å†µ.</p><h2 id="Result-ç±»å‹"><a href="#Result-ç±»å‹" class="headerlink" title="Result ç±»å‹"></a>Result ç±»å‹</h2>]]></content>
      
      
      <categories>
          
          <category> rust </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç”µè„‘å¼€å‘ç¯å¢ƒåˆ‡æ¢åè§„èŒƒå®šä¹‰</title>
      <link href="/2020/01/10/rules/"/>
      <url>/2020/01/10/rules/</url>
      
        <content type="html"><![CDATA[<h2 id="ç£ç›˜"><a href="#ç£ç›˜" class="headerlink" title="ç£ç›˜"></a>ç£ç›˜</h2><ul><li><p>ç›˜D:</p><p>  æ‰‹åŠ¨å®‰è£…çš„åº”ç”¨         â€“&gt; Applications</p></li><li><p>ç›˜E:</p><p>  è‡ªå·±å†™ç¨‹åºçš„ç›®å½•       â€“&gt; Apps</p></li></ul><h2 id="è½¯ä»¶"><a href="#è½¯ä»¶" class="headerlink" title="è½¯ä»¶"></a>è½¯ä»¶</h2><ul><li>ShadowSocks</li><li>Bywave</li><li>Clover</li><li>Snipaste</li><li>Jetbrains ToolBox</li><li>Vscode</li><li>Chrome</li><li>Edge</li><li>Microsoft Todo</li><li>å°è±¡ç¬”è®°</li><li>OneDrive</li><li>Docker</li><li>Postman</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Go ç¼–ç åŸºæœ¬è§„èŒƒ</title>
      <link href="/2017/10/13/go-%E7%BC%96%E7%A0%81%E5%9F%BA%E6%9C%AC%E8%A7%84%E8%8C%83/"/>
      <url>/2017/10/13/go-%E7%BC%96%E7%A0%81%E5%9F%BA%E6%9C%AC%E8%A7%84%E8%8C%83/</url>
      
        <content type="html"><![CDATA[<h2 id="å£°æ˜ç©ºçš„åˆ‡ç‰‡-Slices"><a href="#å£°æ˜ç©ºçš„åˆ‡ç‰‡-Slices" class="headerlink" title="å£°æ˜ç©ºçš„åˆ‡ç‰‡ (Slices)"></a>å£°æ˜ç©ºçš„åˆ‡ç‰‡ (Slices)</h2><p>ç›¸å¯¹äº <code>t := []string{}</code> æ›´æ¨å´‡ <code>var t []string</code></p><p>å‰è€…æ˜¯ <code>non-nil</code>, ä½†æ˜¯é•¿åº¦ä¸º0, è€Œåè€…å£°æ˜äº†ä¸€ä¸ª <code>nil</code> çš„ <code>slice</code>. éƒ½èƒ½å®ç°ç›¸åº”çš„åŠŸèƒ½ ( å‡½æ•° <code>len</code> å’Œ <code>cap</code> éƒ½ä¸º 0 ), ä½†åº”è¯¥é¦–é€‰ <code>nil</code> <code>slice</code></p><p>åªæœ‰åœ¨ç‰¹å®šçš„æƒ…å†µä¸‹, é€‰æ‹© <code>non-nil</code> ä½†é•¿åº¦ä¸º 0 çš„ <code>slice</code></p><ul><li>ç¼–ç  JSON å¯¹è±¡çš„æ—¶å€™<blockquote><p><code>nil slice</code> ç¼–ç ä¸º <code>null</code>, è€Œ <code>[]string{}</code> ç¼–ç ä¸º JSON æ•°ç»„ <code>[]</code></p></blockquote></li></ul><p>è®¾è®¡æ¥å£æ—¶, ä¸åŒºåˆ†ä¸¤è€…çš„åŒºåˆ«, å¯èƒ½å¯¼è‡´å¾®å¦™çš„ç¼–ç¨‹é”™è¯¯</p><h2 id="Crypto-Rand"><a href="#Crypto-Rand" class="headerlink" title="Crypto Rand"></a>Crypto Rand</h2><p>å³ä¾¿ä½¿ç”¨ä¸€æ¬¡, ä¹Ÿä¸è¦ä½¿ç”¨ <code>math/rand</code> ç”Ÿæˆé”®.</p><p>ä½¿ç”¨ <code>crypto/rand</code> çš„ Reader:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"crypto/rand"</span></span><br><span class="line">  <span class="comment">// "encoding/base64"</span></span><br><span class="line">  <span class="comment">// "encoding/hex"</span></span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Key</span><span class="params">()</span> <span class="title">string</span></span>&#123;</span><br><span class="line">  buf := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">16</span>)</span><br><span class="line">  _, err = rand.Read(buf)</span><br><span class="line">  <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">panic</span>(err)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> fmt.Sprintf(<span class="string">"%x"</span>, buf)</span><br><span class="line">  <span class="comment">// or hex.EncodeToString(buf)</span></span><br><span class="line">  <span class="comment">// or base64.StdEncoding.EncodeToString(buf)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Imports"><a href="#Imports" class="headerlink" title="Imports"></a>Imports</h2><p>é¿å…é‡å‘½åå¯¼å…¥ä»è€Œé¿å…åç§°å†²çª; å¦‚æœå‘ç”Ÿå†²çª, æœ€å¥½é‡å‘½åæœ¬åœ°æˆ–ç‰¹æ®Šé¡¹ç›®çš„å¯¼å…¥åŒ….</p><p>å¯¼å…¥æ—¶, åº”ç»„ç»‡åˆ†ç»„, ä¹‹é—´æ·»åŠ ç©ºè¡Œ. æ ‡å‡†åº“çš„åŒ…æ€»åœ¨ç¬¬ä¸€ç»„å†….</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">  <span class="string">"hash/adler32"</span></span><br><span class="line">  <span class="string">"os"</span></span><br><span class="line"></span><br><span class="line">  <span class="string">"appengine/foo"</span></span><br><span class="line">  <span class="string">"appengine/user"</span></span><br><span class="line"></span><br><span class="line">  <span class="string">"code.google.com/p/x/y"</span></span><br><span class="line">  <span class="string">"github.com/foo/bar"</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="Import-ä¸‰ç§æ–¹å¼"><a href="#Import-ä¸‰ç§æ–¹å¼" class="headerlink" title="Import ä¸‰ç§æ–¹å¼"></a>Import ä¸‰ç§æ–¹å¼</h2><ol><li><p>ç‚¹æ“ä½œ<br> <code>import( . &quot;fmt&quot;)</code></p><blockquote><p>è¿™ä¸ªç‚¹æ“ä½œçš„å«ä¹‰å°±æ˜¯è¿™ä¸ªåŒ…å¯¼å…¥ä¹‹ååœ¨ä½ è°ƒç”¨è¿™ä¸ªåŒ…çš„å‡½æ•°æ—¶ï¼Œä½ å¯ä»¥çœç•¥å‰ç¼€çš„åŒ…åï¼Œä¹Ÿå°±æ˜¯å‰é¢ä½ è°ƒç”¨çš„ <code>fmt.Println(&quot;hello world&quot;)</code> å¯ä»¥çœç•¥çš„å†™æˆ <code>Println(&quot;hello world&quot;)</code></p></blockquote></li><li><p>åˆ«åæ“ä½œ ( åˆ«åæ“ä½œé¡¾åæ€ä¹‰å¯ä»¥æŠŠåŒ…å‘½åæˆå¦ä¸€ä¸ªç”¨èµ·æ¥å®¹æ˜“è®°å¿†çš„åå­— )</p><blockquote><p><code>import( f &quot;fmt&quot; )</code>   åˆ«åæ“ä½œè°ƒç”¨åŒ…å‡½æ•°æ—¶å‰ç¼€å˜æˆäº†é‡å‘½åçš„å‰ç¼€ï¼Œå³ <code>f.Println(&quot;hello world&quot;)</code></p></blockquote></li><li><p>_æ“ä½œ   è¿™ä¸ªæ“ä½œç»å¸¸æ˜¯è®©å¾ˆå¤šäººè´¹è§£çš„ä¸€ä¸ªæ“ä½œç¬¦ï¼Œè¯·çœ‹ä¸‹é¢è¿™ä¸ªimport</p> <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"database/sql"</span></span><br><span class="line">  _ <span class="string">"github.com/ziutek/mymysql/godrv"</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><blockquote><p><code>_</code> æ“ä½œå…¶å®åªæ˜¯å¼•å…¥è¯¥åŒ…. å½“å¯¼å…¥ä¸€ä¸ªåŒ…æ—¶, å®ƒæ‰€æœ‰çš„ <code>init()</code> å‡½æ•°å°±ä¼šè¢«æ‰§è¡Œï¼Œä½†æœ‰äº›æ—¶å€™å¹¶éçœŸçš„éœ€è¦ä½¿ç”¨è¿™äº›åŒ…, ä»…ä»…æ˜¯å¸Œæœ›å®ƒçš„ <code>init()</code> å‡½æ•°è¢«æ‰§è¡Œè€Œå·². è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨_æ“ä½œå¼•ç”¨è¯¥åŒ…äº†. å³ä½¿ç”¨_æ“ä½œå¼•ç”¨åŒ…æ˜¯æ— æ³•é€šè¿‡åŒ…åæ¥è°ƒç”¨åŒ…ä¸­çš„å¯¼å‡ºå‡½æ•°, è€Œæ˜¯åªæ˜¯ä¸ºäº†ç®€å•çš„è°ƒç”¨å…¶initå‡½æ•°(). </p></blockquote></li></ol><h2 id="Import-Dot"><a href="#Import-Dot" class="headerlink" title="Import Dot"></a>Import Dot</h2><p><code>import .</code> çš„å½¢å¼å¯ä»¥ç”¨äºæµ‹è¯•åœºæ™¯, ç”±äºå¾ªç¯ä¾èµ–, ä¸èƒ½æˆä¸ºè¢«æµ‹è¯•åŒ…çš„ä¸€éƒ¨åˆ†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> foo_test</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">"bar/testutil"</span> <span class="comment">// åŒæ ·ä¹Ÿ import "foo"</span></span><br><span class="line">. <span class="string">"foo"</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>è¿™ç§æƒ…å†µä¸‹, ç”±äº <code>bar/testtuil</code> åŒ…ä¸­å¯¼å…¥äº† <code>foo</code>, æ‰€ä»¥ <code>foo_test</code> ä¸èƒ½å†æ¬¡åŒ…å« <code>foo</code> è¿™ä¸ªåŒ…. æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ <code>import .</code> çš„å½¢å¼. é™¤äº†è¿™ç§æƒ…å†µå¤–, ä¸è¦ä½¿ç”¨ <code>import .</code>. å®ƒè®©ç¨‹åºæ›´éš¾é˜…è¯».</p><h2 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h2>]]></content>
      
      
      <categories>
          
          <category> go </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Go å‡½æ•°çš„æ¥æ”¶ç±»å‹ä½•æ—¶åº”è¯¥ä½¿ç”¨æŒ‡é’ˆ</title>
      <link href="/2017/10/13/go-%E6%8C%87%E9%92%88%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5/"/>
      <url>/2017/10/13/go-%E6%8C%87%E9%92%88%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5/</url>
      
        <content type="html"><![CDATA[<p>å¯¹äºåˆšå…¥é—¨ Go çš„äººæ¥è¯´, ä¸ºå‡½æ•°çš„ receiver æŒ‡å®šä¸º <strong>å€¼ç±»å‹</strong> æˆ– <strong>æŒ‡é’ˆç±»å‹</strong> æ˜¯å¾ˆå›°éš¾çš„. å¦‚æœä¸çŸ¥é“å¦‚ä½•å–èˆ, é€‰æ‹©æŒ‡é’ˆç±»å‹çš„ reveiver. ä½†æ˜¯æœ‰æ—¶å€™ <strong>å€¼ç±»å‹</strong> çš„ receiver æ›´åŠ åˆé€‚, æ¯”å¦‚å¯¹è±¡æ˜¯ä¸€äº›è½»é‡çº§çš„ä¸å˜çš„ structs, ä½¿ç”¨ <strong>å€¼ç±»å‹</strong> çš„ receiver ä¼šæ›´åŠ é«˜æ•ˆ. ä¸‹é¢æ˜¯åˆ—ä¸¾äº†ä¸€äº›å¸¸ç”¨çš„åˆ¤æ–­æŒ‡å¯¼.</p><h2 id="ä½¿ç”¨æŒ‡é’ˆç±»å‹"><a href="#ä½¿ç”¨æŒ‡é’ˆç±»å‹" class="headerlink" title="ä½¿ç”¨æŒ‡é’ˆç±»å‹"></a>ä½¿ç”¨æŒ‡é’ˆç±»å‹</h2><ul><li>å¦‚æœè¯¥å‡½æ•°ä¼šä¿®æ”¹receiver</li><li>å¦‚æœreceiveræ˜¯ <code>struct</code> å¹¶ä¸”åŒ…å«äº’æ–¥ç±»å‹ <code>sync.Mutex</code>ï¼Œæˆ–è€…æ˜¯ç±»ä¼¼çš„åŒæ­¥å˜é‡ï¼Œreceiverå¿…é¡»æ˜¯æŒ‡é’ˆï¼Œè¿™æ ·å¯ä»¥é¿å…å¯¹è±¡æ‹·è´</li><li>å¦‚æœreceiveræ˜¯è¾ƒå¤§çš„ <code>struct</code> æˆ–è€… <code>array</code>ï¼Œä½¿ç”¨æŒ‡é’ˆåˆ™æ›´åŠ é«˜æ•ˆã€‚å¤šå¤§æ‰ç®—å¤§ï¼Ÿå‡è®¾ <code>struct</code> å†…æ‰€æœ‰æˆå‘˜éƒ½è¦ä½œä¸ºå‡½æ•°å˜é‡ä¼ è¿›å»ï¼Œå¦‚æœè§‰å¾—è¿™æ—¶æ•°æ®å¤ªå¤šï¼Œå°±æ˜¯ <code>struct</code> å¤ªå¤§</li><li>å¦‚æœreceiveræ˜¯ <code>struct</code>, <code>array</code> æˆ–è€… <code>slice</code>, å¹¶ä¸”å…¶ä¸­æŸä¸ªelementæŒ‡å‘äº†æŸä¸ªå¯å˜é‡ï¼Œåˆ™è¿™ä¸ªæ—¶å€™receiveré€‰æŒ‡é’ˆä¼šä½¿ä»£ç çš„æ„å›¾æ›´åŠ æ˜æ˜¾</li></ul><h2 id="ä¸ä½¿ç”¨"><a href="#ä¸ä½¿ç”¨" class="headerlink" title="ä¸ä½¿ç”¨"></a>ä¸ä½¿ç”¨</h2><ul><li>å¦‚æœreceiveræ˜¯ <code>map</code>ã€<code>func</code> æˆ–è€… <code>chan</code></li><li>å¦‚æœreceiveræ˜¯ <code>slice</code> å¹¶ä¸”è¯¥å‡½æ•°å¹¶ä¸ä¼šä¿®æ”¹æ­¤ <code>slice</code></li><li>å¦‚æœreceiverä½¿è¾ƒå°çš„ <code>struct</code> æˆ–è€… <code>array</code>ï¼Œå¹¶ä¸”å…¶å˜é‡éƒ½æ˜¯äº›ä¸å˜é‡ã€å¸¸é‡ï¼Œä¾‹å¦‚ <code>time.Time</code> , å› ä¸º <strong>å€¼ç±»å‹</strong> çš„ receiver å¯ä»¥å‡å°‘éœ€è¦å›æ”¶çš„åƒåœ¾é‡</li></ul><blockquote><p><strong>æœ€åï¼Œå¦‚æœä¸ç¡®å®šç”¨å“ªä¸ªï¼Œä½¿ç”¨æŒ‡é’ˆç±»å‹çš„receiver</strong></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> go </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>(è½¬)Goç»“æ„ä½“å’ŒæŒ‡é’ˆ</title>
      <link href="/2017/10/12/go-%E6%8C%87%E9%92%88%E5%92%8C%E7%BB%93%E6%9E%84%E4%BD%93/"/>
      <url>/2017/10/12/go-%E6%8C%87%E9%92%88%E5%92%8C%E7%BB%93%E6%9E%84%E4%BD%93/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åŸæ–‡åœ°å€: <a href="https://github.com/jemygraw/TechDoc/blob/master/Go%E8%BD%BB%E6%9D%BE%E5%AD%A6/go_tutorial_8_struct_interface.md" target="_blank" rel="noopener">jemygraw/TechDoc</a></p></blockquote><p>åŸºæœ¬ä¸Šåˆ°è¿™é‡Œçš„æ—¶å€™ï¼Œå°±æ˜¯ä¸Šäº†ä¸€ä¸ªå°é˜¶äº†ã€‚Goçš„ç²¾åç‰¹ç‚¹å³å°†å±•å¼€ã€‚</p><h2 id="ç»“æ„ä½“å®šä¹‰"><a href="#ç»“æ„ä½“å®šä¹‰" class="headerlink" title="ç»“æ„ä½“å®šä¹‰"></a><strong>ç»“æ„ä½“å®šä¹‰</strong></h2><p>ä¸Šé¢æˆ‘ä»¬è¯´è¿‡Goçš„æŒ‡é’ˆå’ŒCçš„ä¸åŒï¼Œç»“æ„ä½“ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚Goæ˜¯ä¸€é—¨åˆ ç¹å°±ç®€çš„è¯­è¨€ï¼Œä¸€åˆ‡ä»¤äººå›°æƒ‘çš„ç‰¹æ€§éƒ½å¿…é¡»å»æ‰ã€‚</p><p>ç®€å•æ¥è®²ï¼ŒGoæä¾›çš„<code>ç»“æ„ä½“</code>å°±æ˜¯æŠŠ<code>ä½¿ç”¨å„ç§æ•°æ®ç±»å‹å®šä¹‰</code>çš„<code>ä¸åŒå˜é‡ç»„åˆèµ·æ¥</code>çš„<code>é«˜çº§æ•°æ®ç±»å‹</code>ã€‚é—²è¯ä¸å¤šè¯´ï¼Œçœ‹ä¾‹å­:</p><pre><code>type Rect struct {    width float64    length float64}</code></pre><p>ä¸Šé¢æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªçŸ©å½¢ç»“æ„ä½“ï¼Œé¦–å…ˆæ˜¯å…³é”®æ˜¯<code>type</code>è¡¨ç¤ºè¦<code>å®šä¹‰ä¸€ä¸ªæ–°çš„æ•°æ®ç±»å‹äº†</code>ï¼Œç„¶åæ˜¯æ–°çš„æ•°æ®ç±»å‹åç§°<code>Rect</code>ï¼Œæœ€åæ˜¯<code>struct</code>å…³é”®å­—ï¼Œè¡¨ç¤ºè¿™ä¸ªé«˜çº§æ•°æ®ç±»å‹æ˜¯ç»“æ„ä½“ç±»å‹ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå› ä¸º<code>widthå’Œlengthçš„æ•°æ®ç±»å‹ç›¸åŒ</code>ï¼Œè¿˜å¯ä»¥å†™æˆå¦‚ä¸‹æ ¼å¼ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Rect <span class="keyword">struct</span> &#123;</span><br><span class="line">  width, length <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>å¥½äº†ï¼Œæ¥ç”¨ç»“æ„ä½“å¹²ç‚¹å•¥å§ï¼Œè®¡ç®—ä¸€ä¸‹çŸ©å½¢é¢ç§¯ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Rect <span class="keyword">struct</span> &#123;</span><br><span class="line">  width, length <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> rect Rect</span><br><span class="line">  rect.width = <span class="number">100</span></span><br><span class="line">  rect.length = <span class="number">200</span></span><br><span class="line">  fmt.Println(rect.width * rect.length)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢çš„ä¾‹å­çœ‹åˆ°ï¼Œå…¶å®ç»“æ„ä½“ç±»å‹å’ŒåŸºç¡€æ•°æ®ç±»å‹ä½¿ç”¨æ–¹å¼å·®ä¸å¤šï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯ç»“æ„ä½“ç±»å‹å¯ä»¥é€šè¿‡<code>.</code>æ¥è®¿é—®å†…éƒ¨çš„æˆå‘˜ã€‚åŒ…æ‹¬<code>ç»™å†…éƒ¨æˆå‘˜èµ‹å€¼</code>å’Œ<code>è¯»å–å†…éƒ¨æˆå‘˜å€¼</code>ã€‚</p><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ˜¯ç”¨varå…³é”®å­—å…ˆå®šä¹‰äº†ä¸€ä¸ªRectå˜é‡ï¼Œç„¶åå¯¹å®ƒçš„æˆå‘˜èµ‹å€¼ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨åˆå§‹åŒ–çš„æ–¹å¼æ¥ç»™Rectå˜é‡çš„å†…éƒ¨æˆå‘˜èµ‹å€¼ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Rect <span class="keyword">struct</span> &#123;</span><br><span class="line">  width, length <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> rect = Rect&#123;width: <span class="number">100</span>, length: <span class="number">200</span>&#125;</span><br><span class="line"></span><br><span class="line">  fmt.Println(rect.width * rect.length)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶<code>å¦‚æœä½ çŸ¥é“ç»“æ„ä½“æˆå‘˜å®šä¹‰çš„é¡ºåº</code>ï¼Œä¹Ÿå¯ä»¥ä¸ä½¿ç”¨<code>key:value</code>çš„æ–¹å¼èµ‹å€¼ï¼Œ<code>ç›´æ¥æŒ‰ç…§ç»“æ„ä½“æˆå‘˜å®šä¹‰çš„é¡ºåºç»™å®ƒä»¬èµ‹å€¼</code>ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Rect <span class="keyword">struct</span> &#123;</span><br><span class="line">  width, length <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> rect = Rect&#123;<span class="number">100</span>, <span class="number">200</span>&#125;</span><br><span class="line"></span><br><span class="line">  fmt.Println(<span class="string">"Width:"</span>, rect.width, <span class="string">"* Length:"</span>,</span><br><span class="line">    rect.length, <span class="string">"= Area:"</span>, rect.width*rect.length)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸º</p><pre><code>Width: 100 * Length: 200 = Area: 20000</code></pre><p><strong>ç»“æ„ä½“å‚æ•°ä¼ é€’æ–¹å¼</strong></p><p>æˆ‘ä»¬è¯´è¿‡ï¼Œ<code>Goå‡½æ•°çš„å‚æ•°ä¼ é€’æ–¹å¼æ˜¯å€¼ä¼ é€’</code>ï¼Œè¿™å¥è¯<code>å¯¹ç»“æ„ä½“ä¹Ÿæ˜¯é€‚ç”¨çš„</code>ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Rect <span class="keyword">struct</span> &#123;</span><br><span class="line">  width, length <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">double_area</span><span class="params">(rect Rect)</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">  rect.width *= <span class="number">2</span></span><br><span class="line">  rect.length *= <span class="number">2</span></span><br><span class="line">  <span class="keyword">return</span> rect.width * rect.length</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> rect = Rect&#123;<span class="number">100</span>, <span class="number">200</span>&#125;</span><br><span class="line">  fmt.Println(double_area(rect))</span><br><span class="line">  fmt.Println(<span class="string">"Width:"</span>, rect.width, <span class="string">"Length:"</span>, rect.length)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä¾‹å­è¾“å‡ºä¸º:</p><pre><code>80000Width: 100 Length: 200</code></pre><p>ä¹Ÿå°±è¯´è™½ç„¶åœ¨double_areaå‡½æ•°é‡Œé¢æˆ‘ä»¬å°†ç»“æ„ä½“çš„å®½åº¦å’Œé•¿åº¦éƒ½åŠ å€ï¼Œä½†ä»ç„¶æ²¡æœ‰å½±å“mainå‡½æ•°é‡Œé¢çš„rectå˜é‡çš„å®½åº¦å’Œé•¿åº¦ã€‚</p><h2 id="ç»“æ„ä½“ç»„åˆå‡½æ•°"><a href="#ç»“æ„ä½“ç»„åˆå‡½æ•°" class="headerlink" title="ç»“æ„ä½“ç»„åˆå‡½æ•°"></a><strong>ç»“æ„ä½“ç»„åˆå‡½æ•°</strong></h2><p>ä¸Šé¢æˆ‘ä»¬åœ¨mainå‡½æ•°ä¸­è®¡ç®—äº†çŸ©å½¢çš„é¢ç§¯ï¼Œä½†æ˜¯æˆ‘ä»¬è§‰å¾—çŸ©å½¢çš„é¢ç§¯å¦‚æœèƒ½å¤Ÿä½œä¸ºçŸ©å½¢ç»“æ„ä½“çš„â€œå†…éƒ¨å‡½æ•°â€æä¾›ä¼šæ›´å¥½ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è¯´è¿™ä¸ªçŸ©å½¢é¢ç§¯æ˜¯å¤šå°‘ï¼Œè€Œä¸ç”¨å¦å¤–å»å–å®½åº¦å’Œé•¿åº¦å»è®¡ç®—ã€‚ç°åœ¨æˆ‘ä»¬çœ‹çœ‹ç»“æ„ä½“â€œå†…éƒ¨å‡½æ•°â€å®šä¹‰æ–¹æ³•ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Rect <span class="keyword">struct</span> &#123;</span><br><span class="line">  width, length <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(rect Rect)</span> <span class="title">area</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">  <span class="keyword">return</span> rect.width * rect.length</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> rect = Rect&#123;<span class="number">100</span>, <span class="number">200</span>&#125;</span><br><span class="line"></span><br><span class="line">  fmt.Println(<span class="string">"Width:"</span>, rect.width, <span class="string">"Length:"</span>, rect.length,</span><br><span class="line">    <span class="string">"Area:"</span>, rect.area())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å’¦ï¼Ÿè¿™ä¸ªæ˜¯ä»€ä¹ˆâ€œå†…éƒ¨æ–¹æ³•â€ï¼Œæ ¹æœ¬æ²¡æœ‰å®šä¹‰åœ¨Rectæ•°æ®ç±»å‹çš„å†…éƒ¨å•Šï¼Ÿ</p><p>ç¡®å®å¦‚æ­¤ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œè™½ç„¶mainå‡½æ•°ä¸­çš„rectå˜é‡å¯ä»¥ç›´æ¥è°ƒç”¨å‡½æ•°area()æ¥è·å–çŸ©å½¢é¢ç§¯ï¼Œä½†æ˜¯area()å‡½æ•°ç¡®å®æ²¡æœ‰å®šä¹‰åœ¨Rectç»“æ„ä½“å†…éƒ¨ï¼Œè¿™ç‚¹å’ŒCè¯­è¨€çš„æœ‰å¾ˆå¤§ä¸åŒã€‚<code>Goä½¿ç”¨ç»„åˆå‡½æ•°çš„æ–¹å¼æ¥ä¸ºç»“æ„ä½“å®šä¹‰ç»“æ„ä½“æ–¹æ³•</code>ã€‚æˆ‘ä»¬ä»”ç»†çœ‹ä¸€ä¸‹ä¸Šé¢çš„area()å‡½æ•°å®šä¹‰ã€‚</p><p>é¦–å…ˆæ˜¯å…³é”®å­—<code>func</code>è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯<code>ç»“æ„ä½“ç±»å‹å’Œå®ä¾‹å˜é‡</code>ï¼Œç¬¬ä¸‰ä¸ªæ˜¯<code>å‡½æ•°åç§°</code>ï¼Œç¬¬å››ä¸ªæ˜¯<code>å‡½æ•°è¿”å›å€¼</code>ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºarea()å‡½æ•°å’Œæ™®é€šå‡½æ•°å®šä¹‰çš„<code>åŒºåˆ«å°±åœ¨äº</code>area()å‡½æ•°<code>å¤šäº†ä¸€ä¸ªç»“æ„ä½“ç±»å‹é™å®š</code>ã€‚è¿™æ ·ä¸€æ¥Goå°±çŸ¥é“äº†è¿™æ˜¯ä¸€ä¸ªä¸ºç»“æ„ä½“å®šä¹‰çš„<code>æ–¹æ³•</code>ã€‚</p><p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ç‚¹å°±æ˜¯<code>å®šä¹‰åœ¨ç»“æ„ä½“ä¸Šé¢çš„å‡½æ•°(function)</code>ä¸€èˆ¬å«åš<code>æ–¹æ³•(method)</code>ã€‚</p><h2 id="ç»“æ„ä½“å’ŒæŒ‡é’ˆ"><a href="#ç»“æ„ä½“å’ŒæŒ‡é’ˆ" class="headerlink" title="ç»“æ„ä½“å’ŒæŒ‡é’ˆ"></a><strong>ç»“æ„ä½“å’ŒæŒ‡é’ˆ</strong></h2><p>æˆ‘ä»¬åœ¨æŒ‡é’ˆä¸€èŠ‚è®²åˆ°è¿‡ï¼Œ<code>æŒ‡é’ˆçš„ä¸»è¦ä½œç”¨å°±æ˜¯åœ¨å‡½æ•°å†…éƒ¨æ”¹å˜ä¼ é€’è¿›æ¥å˜é‡çš„å€¼</code>ã€‚å¯¹äºä¸Šé¢çš„è®¡ç®—çŸ©å½¢é¢ç§¯çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¸€ä¸‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Rect <span class="keyword">struct</span> &#123;</span><br><span class="line">  width, length <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(rect *Rect)</span> <span class="title">area</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">  <span class="keyword">return</span> rect.width * rect.length</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> rect = <span class="built_in">new</span>(Rect)</span><br><span class="line">  rect.width = <span class="number">100</span></span><br><span class="line">  rect.length = <span class="number">200</span></span><br><span class="line">  fmt.Println(<span class="string">"Width:"</span>, rect.width, <span class="string">"Length:"</span>, rect.length,</span><br><span class="line">    <span class="string">"Area:"</span>, rect.area())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä½¿ç”¨äº†newå‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªç»“æ„ä½“æŒ‡é’ˆrectï¼Œä¹Ÿå°±æ˜¯è¯´rectçš„ç±»å‹æ˜¯*Rectï¼Œç»“æ„ä½“é‡åˆ°æŒ‡é’ˆçš„æ—¶å€™ï¼Œä½ <code>ä¸éœ€è¦ä½¿ç”¨*å»è®¿é—®ç»“æ„ä½“çš„æˆå‘˜</code>ï¼Œç›´æ¥ä½¿ç”¨<code>.</code>å¼•ç”¨å°±å¯ä»¥äº†ã€‚æ‰€ä»¥ä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬ç›´æ¥ä½¿ç”¨<code>rect.width=100</code> å’Œ<code>rect.length=200</code>æ¥è®¾ç½®ç»“æ„ä½“æˆå‘˜å€¼ã€‚å› ä¸ºè¿™ä¸ªæ—¶å€™rectæ˜¯ç»“æ„ä½“æŒ‡é’ˆï¼Œæ‰€ä»¥æˆ‘ä»¬å®šä¹‰area()å‡½æ•°çš„æ—¶å€™ç»“æ„ä½“é™å®šç±»å‹ä¸º<code>*Rect</code>ã€‚</p><p>å…¶å®åœ¨è®¡ç®—é¢ç§¯çš„è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ”¹å˜çŸ©å½¢çš„å®½æˆ–è€…é•¿åº¦ï¼Œæ‰€ä»¥å®šä¹‰areaå‡½æ•°çš„æ—¶å€™ç»“æ„ä½“é™å®šç±»å‹ä»ç„¶ä¸º<code>Rect</code>ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Rect <span class="keyword">struct</span> &#123;</span><br><span class="line">  width, length <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(rect Rect)</span> <span class="title">area</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">  <span class="keyword">return</span> rect.width * rect.length</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> rect = <span class="built_in">new</span>(Rect)</span><br><span class="line">  rect.width = <span class="number">100</span></span><br><span class="line">  rect.length = <span class="number">200</span></span><br><span class="line">  fmt.Println(<span class="string">"Width:"</span>, rect.width, <span class="string">"Length:"</span>, rect.length,</span><br><span class="line">    <span class="string">"Area:"</span>, rect.area())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡ŒGoè¶³å¤Ÿèªæ˜ï¼Œæ‰€ä»¥rect.area()ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><p>è‡³äº<code>ä½¿ä¸ä½¿ç”¨ç»“æ„ä½“æŒ‡é’ˆå’Œä½¿ä¸ä½¿ç”¨æŒ‡é’ˆçš„å‡ºå‘ç‚¹æ˜¯ä¸€æ ·çš„</code>ï¼Œé‚£å°±æ˜¯<code>ä½ æ˜¯å¦è¯•å›¾åœ¨å‡½æ•°å†…éƒ¨æ”¹å˜ä¼ é€’è¿›æ¥çš„å‚æ•°çš„å€¼</code>ã€‚å†ä¸¾ä¸ªä¾‹å­å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Rect <span class="keyword">struct</span> &#123;</span><br><span class="line">  width, length <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(rect *Rect)</span> <span class="title">double_area</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">  rect.width *= <span class="number">2</span></span><br><span class="line">  rect.length *= <span class="number">2</span></span><br><span class="line">  <span class="keyword">return</span> rect.width * rect.length</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> rect = <span class="built_in">new</span>(Rect)</span><br><span class="line">  rect.width = <span class="number">100</span></span><br><span class="line">  rect.length = <span class="number">200</span></span><br><span class="line">  fmt.Println(*rect)</span><br><span class="line">  fmt.Println(<span class="string">"Double Width:"</span>, rect.width, <span class="string">"Double Length:"</span>, rect.length,</span><br><span class="line">    <span class="string">"Double Area:"</span>, rect.double_area())</span><br><span class="line">  fmt.Println(*rect)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­çš„è¾“å‡ºæ˜¯ï¼š</p><pre><code>{100 200}Double Width: 200 Double Length: 400 Double Area: 80000{200 400}</code></pre><h2 id="ç»“æ„ä½“å†…åµŒç±»å‹"><a href="#ç»“æ„ä½“å†…åµŒç±»å‹" class="headerlink" title="ç»“æ„ä½“å†…åµŒç±»å‹"></a><strong>ç»“æ„ä½“å†…åµŒç±»å‹</strong></h2><p>æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ª<code>ç»“æ„ä½“å†…éƒ¨å®šä¹‰å¦å¤–ä¸€ä¸ªç»“æ„ä½“ç±»å‹çš„æˆå‘˜</code>ã€‚ä¾‹å¦‚iPhoneä¹Ÿæ˜¯Phoneï¼Œæˆ‘ä»¬çœ‹ä¸‹ä¾‹å­ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Phone <span class="keyword">struct</span> &#123;</span><br><span class="line">  price <span class="keyword">int</span></span><br><span class="line">  color <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> IPhone <span class="keyword">struct</span> &#123;</span><br><span class="line">  phone Phone</span><br><span class="line">  model <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> p IPhone</span><br><span class="line">  p.phone.price = <span class="number">5000</span></span><br><span class="line">  p.phone.color = <span class="string">"Black"</span></span><br><span class="line">  p.model = <span class="string">"iPhone 5"</span></span><br><span class="line">  fmt.Println(<span class="string">"I have a iPhone:"</span>)</span><br><span class="line">  fmt.Println(<span class="string">"Price:"</span>, p.phone.price)</span><br><span class="line">  fmt.Println(<span class="string">"Color:"</span>, p.phone.color)</span><br><span class="line">  fmt.Println(<span class="string">"Model:"</span>, p.model)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸º</p><pre><code>I have a iPhone:Price: 5000Color: BlackModel: iPhone 5</code></pre><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨ç»“æ„ä½“IPhoneé‡Œé¢å®šä¹‰äº†ä¸€ä¸ªPhoneå˜é‡phoneï¼Œç„¶åæˆ‘ä»¬å¯ä»¥åƒæ­£å¸¸çš„è®¿é—®ç»“æ„ä½“æˆå‘˜ä¸€æ ·è®¿é—®phoneçš„æˆå‘˜æ•°æ®ã€‚ä½†æ˜¯æˆ‘ä»¬åŸæ¥çš„æ„æ€æ˜¯<code>â€œiPhoneä¹Ÿæ˜¯(is-a)Phoneâ€</code>ï¼Œè€Œè¿™é‡Œçš„ç»“æ„ä½“IPhoneé‡Œé¢å®šä¹‰äº†ä¸€ä¸ªphoneå˜é‡ï¼Œç»™äººçš„æ„Ÿè§‰å°±æ˜¯<code>â€œiPhoneæœ‰ä¸€ä¸ª(has-a)Phoneâ€</code>ï¼ŒæŒºå¥‡æ€ªçš„ã€‚å½“ç„¶Goä¹ŸçŸ¥é“è¿™ç§æ–¹å¼å¾ˆå¥‡æ€ªï¼Œæ‰€ä»¥æ”¯æŒå¦‚ä¸‹åšæ³•ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Phone <span class="keyword">struct</span> &#123;</span><br><span class="line">  price <span class="keyword">int</span></span><br><span class="line">  color <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> IPhone <span class="keyword">struct</span> &#123;</span><br><span class="line">  Phone</span><br><span class="line">  model <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> p IPhone</span><br><span class="line">  p.price = <span class="number">5000</span></span><br><span class="line">  p.color = <span class="string">"Black"</span></span><br><span class="line">  p.model = <span class="string">"iPhone 5"</span></span><br><span class="line">  fmt.Println(<span class="string">"I have a iPhone:"</span>)</span><br><span class="line">  fmt.Println(<span class="string">"Price:"</span>, p.price)</span><br><span class="line">  fmt.Println(<span class="string">"Color:"</span>, p.color)</span><br><span class="line">  fmt.Println(<span class="string">"Model:"</span>, p.model)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸º</p><pre><code>I have a iPhone:Price: 5000Color: BlackModel: iPhone 5</code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰IPhoneç»“æ„ä½“çš„æ—¶å€™ï¼Œ<code>ä¸å†å®šä¹‰Phoneå˜é‡</code>ï¼Œ<code>ç›´æ¥æŠŠç»“æ„ä½“Phoneç±»å‹å®šä¹‰åœ¨é‚£é‡Œ</code>ã€‚ç„¶åIPhoneå°±å¯ä»¥<code>åƒè®¿é—®ç›´æ¥å®šä¹‰åœ¨è‡ªå·±ç»“æ„ä½“é‡Œé¢çš„æˆå‘˜ä¸€æ ·è®¿é—®Phoneçš„æˆå‘˜</code>ã€‚</p><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ¼”ç¤ºäº†ç»“æ„ä½“çš„å†…åµŒç±»å‹ä»¥åŠå†…åµŒç±»å‹çš„æˆå‘˜è®¿é—®ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå‡è®¾ç»“æ„ä½“Aå†…éƒ¨å®šä¹‰äº†ä¸€ä¸ªå†…åµŒç»“æ„ä½“Bï¼Œé‚£ä¹ˆAåŒæ—¶ä¹Ÿå¯ä»¥è°ƒç”¨æ‰€æœ‰å®šä¹‰åœ¨Bä¸Šé¢çš„å‡½æ•°ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Phone <span class="keyword">struct</span> &#123;</span><br><span class="line">  price <span class="keyword">int</span></span><br><span class="line">  color <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(phone Phone)</span> <span class="title">ringing</span><span class="params">()</span></span> &#123;</span><br><span class="line">  fmt.Println(<span class="string">"Phone is ringing..."</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> IPhone <span class="keyword">struct</span> &#123;</span><br><span class="line">  Phone</span><br><span class="line">  model <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> p IPhone</span><br><span class="line">  p.price = <span class="number">5000</span></span><br><span class="line">  p.color = <span class="string">"Black"</span></span><br><span class="line">  p.model = <span class="string">"iPhone 5"</span></span><br><span class="line">  fmt.Println(<span class="string">"I have a iPhone:"</span>)</span><br><span class="line">  fmt.Println(<span class="string">"Price:"</span>, p.price)</span><br><span class="line">  fmt.Println(<span class="string">"Color:"</span>, p.color)</span><br><span class="line">  fmt.Println(<span class="string">"Model:"</span>, p.model)</span><br><span class="line"></span><br><span class="line">  p.ringing()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><pre><code>I have a iPhone:Price: 5000Color: BlackModel: iPhone 5Phone is ringing...</code></pre><h2 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a><strong>æ¥å£</strong></h2><p>æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼Œå…³äºNokiaæ‰‹æœºå’ŒiPhoneæ‰‹æœºéƒ½èƒ½å¤Ÿæ‰“ç”µè¯çš„ä¾‹å­ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> NokiaPhone <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(nokiaPhone NokiaPhone)</span> <span class="title">call</span><span class="params">()</span></span> &#123;</span><br><span class="line">  fmt.Println(<span class="string">"I am Nokia, I can call you!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> IPhone <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(iPhone IPhone)</span> <span class="title">call</span><span class="params">()</span></span> &#123;</span><br><span class="line">  fmt.Println(<span class="string">"I am iPhone, I can call you!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> nokia NokiaPhone</span><br><span class="line">  nokia.call()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> iPhone IPhone</span><br><span class="line">  iPhone.call()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å®šä¹‰äº†NokiaPhoneå’ŒIPhoneï¼Œå®ƒä»¬éƒ½æœ‰å„è‡ªçš„æ–¹æ³•call()ï¼Œè¡¨ç¤ºè‡ªå·±éƒ½èƒ½å¤Ÿæ‰“ç”µè¯ã€‚ä½†æ˜¯æˆ‘ä»¬æƒ³ä¸€æƒ³ï¼Œæ˜¯æ‰‹æœºéƒ½åº”è¯¥èƒ½å¤Ÿæ‰“ç”µè¯ï¼Œæ‰€ä»¥è¿™ä¸ªä¸ç®—æ˜¯NokiaPhoneæˆ–æ˜¯IPhoneçš„ç‹¬ç‰¹ç‰¹ç‚¹ã€‚å¦åˆ™iPhoneä¸å¯èƒ½å–è¿™ä¹ˆè´µäº†ã€‚</p><p>å†ä»”ç»†çœ‹ä¸€ä¸‹<code>æ¥å£çš„å®šä¹‰</code>ï¼Œé¦–å…ˆæ˜¯å…³é”®å­—<code>type</code>ï¼Œç„¶åæ˜¯<code>æ¥å£åç§°</code>ï¼Œæœ€åæ˜¯å…³é”®å­—<code>interface</code>è¡¨ç¤ºè¿™ä¸ªç±»å‹æ˜¯æ¥å£ç±»å‹ã€‚<code>åœ¨æ¥å£ç±»å‹é‡Œé¢ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ç»„æ–¹æ³•</code>ã€‚</p><p>Goè¯­è¨€æä¾›äº†ä¸€ç§æ¥å£åŠŸèƒ½ï¼Œå®ƒæŠŠæ‰€æœ‰çš„å…·æœ‰å…±æ€§çš„æ–¹æ³•å®šä¹‰åœ¨ä¸€èµ·ï¼Œ<code>ä»»ä½•å…¶ä»–ç±»å‹åªè¦å®ç°äº†è¿™äº›æ–¹æ³•å°±æ˜¯å®ç°äº†è¿™ä¸ªæ¥å£</code>ï¼Œ<code>ä¸ä¸€å®šéè¦æ˜¾å¼åœ°å£°æ˜</code>è¦å»å®ç°å“ªäº›æ¥å£å•¦ã€‚æ¯”å¦‚ä¸Šé¢çš„æ‰‹æœºçš„call()æ–¹æ³•ï¼Œå°±å®Œå…¨å¯ä»¥å®šä¹‰åœ¨æ¥å£Phoneé‡Œé¢ï¼Œè€ŒNokiaPhoneå’ŒIPhoneåªè¦å®ç°äº†è¿™ä¸ªæ¥å£å°±æ˜¯ä¸€ä¸ªPhoneã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Phone <span class="keyword">interface</span> &#123;</span><br><span class="line">  call()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> NokiaPhone <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(nokiaPhone NokiaPhone)</span> <span class="title">call</span><span class="params">()</span></span> &#123;</span><br><span class="line">  fmt.Println(<span class="string">"I am Nokia, I can call you!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> IPhone <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(iPhone IPhone)</span> <span class="title">call</span><span class="params">()</span></span> &#123;</span><br><span class="line">  fmt.Println(<span class="string">"I am iPhone, I can call you!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> phone Phone</span><br><span class="line"></span><br><span class="line">  phone = <span class="built_in">new</span>(NokiaPhone)</span><br><span class="line">  phone.call()</span><br><span class="line"></span><br><span class="line">  phone = <span class="built_in">new</span>(IPhone)</span><br><span class="line">  phone.call()</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ¥å£Phoneï¼Œæ¥å£é‡Œé¢æœ‰ä¸€ä¸ªæ–¹æ³•call()ï¼Œä»…æ­¤è€Œå·²ã€‚ç„¶åæˆ‘ä»¬åœ¨mainå‡½æ•°é‡Œé¢å®šä¹‰äº†ä¸€ä¸ªPhoneç±»å‹å˜é‡ï¼Œå¹¶åˆ†åˆ«ä¸ºä¹‹èµ‹å€¼ä¸ºNokiaPhoneå’ŒIPhoneã€‚ç„¶åè°ƒç”¨call()æ–¹æ³•ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><pre><code>I am Nokia, I can call you!I am iPhone, I can call you!</code></pre><p>ä»¥å‰æˆ‘ä»¬è¯´è¿‡ï¼Œ<code>Goè¯­è¨€å¼é™æ€ç±»å‹è¯­è¨€ï¼Œå˜é‡çš„ç±»å‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¸èƒ½æ”¹å˜</code>ã€‚ä½†æ˜¯åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œphoneå˜é‡å¥½åƒå…ˆå®šä¹‰ä¸ºPhoneç±»å‹ï¼Œç„¶åæ˜¯NokiaPhoneç±»å‹ï¼Œæœ€åæˆä¸ºäº†IPhoneç±»å‹ï¼ŒçœŸçš„æ˜¯è¿™æ ·å—ï¼Ÿ</p><p>åŸæ¥ï¼Œåœ¨Goè¯­è¨€é‡Œé¢ï¼Œ<code>ä¸€ä¸ªç±»å‹Aåªè¦å®ç°äº†æ¥å£Xæ‰€å®šä¹‰çš„å…¨éƒ¨æ–¹æ³•</code>ï¼Œé‚£ä¹ˆ<code>Aç±»å‹çš„å˜é‡</code>ä¹Ÿæ˜¯<code>Xç±»å‹çš„å˜é‡</code>ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒNokiaPhoneå’ŒIPhoneéƒ½å®ç°äº†Phoneæ¥å£çš„call()æ–¹æ³•ï¼Œæ‰€ä»¥å®ƒä»¬éƒ½æ˜¯Phoneï¼Œè¿™æ ·ä¸€æ¥æ˜¯ä¸æ˜¯æ„Ÿè§‰æ­£å¸¸äº†ä¸€äº›ã€‚</p><p>æˆ‘ä»¬ä¸ºPhoneæ·»åŠ ä¸€ä¸ªæ–¹æ³•sales()ï¼Œå†æ¥ç†Ÿæ‚‰ä¸€ä¸‹æ¥å£ç”¨æ³•ã€‚</p><pre><code class="go"><span class="keyword">package</span> main<span class="keyword">import</span> (  <span class="string">"fmt"</span>)<span class="keyword">type</span> Phone <span class="keyword">interface</span> {  call()  sales() <span class="keyword">int</span>}<span class="keyword">type</span> NokiaPhone <span class="keyword">struct</span> {  price <span class="keyword">int</span>}<span class="function"><span class="keyword">func</span> <span class="params">(nokiaPhone NokiaPhone)</span> <span class="title">call</span><span class="params">()</span></span> {  fmt.Println(<span class="string">"I am Nokia, I can call you!"</span>)}<span class="function"><span class="keyword">func</span> <span class="params">(nokiaPhone NokiaPhone)</span> <span class="title">sales</span><span class="params">()</span> <span class="title">int</span></span> {  <span class="keyword">return</span> nokiaPhone.price}<span class="keyword">type</span> IPhone <span class="keyword">struct</span> {  price <span class="keyword">int</span>}<span class="function"><span class="keyword">func</span> <span class="params">(iPhone IPhone)</span> <span class="title">call</span><span class="params">()</span></span> {  fmt.Println(<span class="string">"I am iPhone, I can call you!"</span>)}<span class="function"><span class="keyword">func</span> <span class="params">(iPhone IPhone)</span> <span class="title">sales</span><span class="params">()</span> <span class="title">int</span></span> {  <span class="keyword">return</span> iPhone.price}<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {  <span class="keyword">var</span> phones = [<span class="number">5</span>]Phone{    NokiaPhone{price: <span class="number">350</span>},    IPhone{price: <span class="number">5000</span>},    IPhone{price: <span class="number">3400</span>},    NokiaPhone{price: <span class="number">450</span>},    IPhone{price: <span class="number">5000</span>},  }  <span class="keyword">var</span> totalSales = <span class="number">0</span>  <span class="keyword">for</span> _, phone := <span class="keyword">range</span> phones {    totalSales += phone.sales()  }  fmt.Println(totalSales)}</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code>14200</code></pre><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ‰‹æœºæ•°ç»„ï¼Œç„¶åè®¡ç®—æ‰‹æœºçš„æ€»å”®ä»·ã€‚å¯ä»¥çœ‹åˆ°ï¼Œç”±äºNokiaPhoneå’ŒIPhoneéƒ½å®ç°äº†sales()æ–¹æ³•ï¼Œæ‰€ä»¥å®ƒä»¬éƒ½æ˜¯Phoneç±»å‹ï¼Œä½†æ˜¯è®¡ç®—å”®ä»·çš„æ—¶å€™ï¼ŒGoä¼šçŸ¥é“è°ƒç”¨å“ªä¸ªå¯¹è±¡å®ç°çš„æ–¹æ³•ã€‚</p><p>æ¥å£ç±»å‹è¿˜å¯ä»¥ä½œä¸ºç»“æ„ä½“çš„æ•°æ®æˆå‘˜ã€‚</p><p>å‡è®¾æœ‰ä¸ªè´¥å®¶å­ï¼ŒiPhoneæ²¡æœ‰å‡ºçš„æ—¶å€™ï¼Œä¹°äº†å¥½å‡ æ¬¾Nokiaï¼ŒiPhoneå‡ºæ¥åï¼Œåˆä¹°äº†å¥½å¤šéƒ¨iPhoneï¼Œè€çˆ¸è¦æ¥çœ‹çœ‹è¿™å°å­ä¸€å…±èŠ±äº†å¤šå°‘é’±ã€‚</p><pre><code class="go"><span class="keyword">package</span> main<span class="keyword">import</span> (  <span class="string">"fmt"</span>)<span class="keyword">type</span> Phone <span class="keyword">interface</span> {  sales() <span class="keyword">int</span>}<span class="keyword">type</span> NokiaPhone <span class="keyword">struct</span> {  price <span class="keyword">int</span>}<span class="function"><span class="keyword">func</span> <span class="params">(nokiaPhone NokiaPhone)</span> <span class="title">sales</span><span class="params">()</span> <span class="title">int</span></span> {  <span class="keyword">return</span> nokiaPhone.price}<span class="keyword">type</span> IPhone <span class="keyword">struct</span> {  price <span class="keyword">int</span>}<span class="function"><span class="keyword">func</span> <span class="params">(iPhone IPhone)</span> <span class="title">sales</span><span class="params">()</span> <span class="title">int</span></span> {  <span class="keyword">return</span> iPhone.price}<span class="keyword">type</span> Person <span class="keyword">struct</span> {  phones []Phone  name   <span class="keyword">string</span>  age    <span class="keyword">int</span>}<span class="function"><span class="keyword">func</span> <span class="params">(person Person)</span> <span class="title">total_cost</span><span class="params">()</span> <span class="title">int</span></span> {  <span class="keyword">var</span> sum = <span class="number">0</span>  <span class="keyword">for</span> _, phone := <span class="keyword">range</span> person.phones {    sum += phone.sales()  }  <span class="keyword">return</span> sum}<span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {  <span class="keyword">var</span> bought_phones = [<span class="number">5</span>]Phone{    NokiaPhone{price: <span class="number">350</span>},    IPhone{price: <span class="number">5000</span>},    IPhone{price: <span class="number">3400</span>},    NokiaPhone{price: <span class="number">450</span>},    IPhone{price: <span class="number">5000</span>},  }  <span class="keyword">var</span> person = Person{name: <span class="string">"Jemy"</span>, age: <span class="number">25</span>, phones: bought_phones[:]}  fmt.Println(person.name)  fmt.Println(person.age)  fmt.Println(person.total_cost())}</code></pre><p>è¿™ä¸ªä¾‹å­çº¯ä¸ºæ¼”ç¤ºæ¥å£ä½œä¸ºç»“æ„ä½“æ•°æ®æˆå‘˜ï¼Œå¦‚æœ‰é›·åŒï¼Œçº¯å±å·§åˆã€‚è¿™é‡Œé¢æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªPersonç»“æ„ä½“ï¼Œç»“æ„ä½“å†…éƒ¨å®šä¹‰äº†ä¸€ä¸ªæ‰‹æœºç±»å‹åˆ‡ç‰‡ã€‚å¦å¤–æˆ‘ä»¬å®šä¹‰äº†Personçš„total_cost()æ–¹æ³•ç”¨æ¥è®¡ç®—æ‰‹æœºèŠ±è´¹æ€»é¢ã€‚è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><pre><code>Jemy2514200</code></pre><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a><strong>å°ç»“</strong></h2><p>Goçš„ç»“æ„ä½“å’Œæ¥å£çš„å®ç°æ–¹æ³•å¯è°“åˆ ç¹å°±ç®€ï¼Œå»é™¤äº†å¾ˆå¤šåˆ«çš„è¯­è¨€ä»¤äººå›°æƒ‘çš„åœ°æ–¹ï¼Œè€Œä¸”å­¦ä¹ éš¾åº¦ä¹Ÿä¸å¤§ï¼Œå¾ˆå®¹æ˜“ä¸Šæ‰‹ã€‚ä¸è¿‡ç”±äºæ€æƒ³æ¯”è¾ƒç‹¬åˆ°ï¼Œä¹Ÿæœ‰å¯èƒ½ä¼šæœ‰äººè§‰å¾—åŠŸèƒ½å¤ªç®€å•è€Œæ— ç”¨ï¼Œè¿™ä¸ªå°±å„æœ‰çœ‹æ³•äº†ï¼Œä¸è¿‡åœ¨é€æ¸çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šæ…¢æ…¢é¢†æ‚Ÿåˆ°è¿™ç§è®¾è®¡æ‰€å¸¦æ¥çš„å¥½å¤„ï¼Œä»¥åŠæ‰€é¿å…çš„é—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> go </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo åœ¨é‡åˆ° â€œ{% raw %}{{{% endraw %}â€ ç¬¦å·æ—¶å‡ºç°è§£ææŠ¥é”™</title>
      <link href="/2017/10/12/hexo_exceptions/"/>
      <url>/2017/10/12/hexo_exceptions/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åŸæ–‡é“¾æ¥: <a href="https://icewing.cc/post/hexo-bug-of-quot.html" target="_blank" rel="noopener">https://icewing.cc/post/hexo-bug-of-quot.html</a></p></blockquote><p>æœ€è¿‘åœ¨æ›´æ–°ä¸€ç¯‡æ–‡ç« åï¼Œæ— è®ºæ˜¯ hexo g ç”Ÿæˆï¼Œè¿˜æ˜¯ hexo s é¢„è§ˆéƒ½ä¼šæŠ¥è§£æé”™è¯¯ï¼Œ å¤§è‡´å¦‚ä¸‹ï¼Œåé¢è¿˜æœ‰å¾ˆé•¿çš„ä¿¡æ¯ï¼Œå°±ä¸è´´äº†ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FATAL Something&apos;s wrong. Maybe you can find the solution here: http://hexo.io/docs/troubleshooting.html</span><br><span class="line">Template render error: (unknown path) [Line 25, Column 85]</span><br><span class="line">  unexpected token: .</span><br></pre></td></tr></table></figure><p>è€ŒæŠŠé‚£ç¯‡æ–‡ç« ç§»é™¤åä¸€åˆ‡åˆæ˜¯æ­£å¸¸çš„ã€‚ä»é”™è¯¯ä¸Šæ¥çœ‹åŸºæœ¬å¯ä»¥åˆ¤æ–­æ˜¯æ¨¡æ¿è§£æé”™è¯¯ï¼Œä» <code>unexpected token: .</code> åˆçœ‹ä¸å‡ºæ¥å…·ä½“æ˜¯å“ªé‡Œå‡ºé”™ï¼Œä¸€ç›´æ‰¾ä¸åˆ°åŸå› ã€‚</p><p>ä»Šå¤©æŸ¥æ‰¾èµ„æ–™å‘ç°æœ‰äººé‡åˆ°å’Œæˆ‘ç±»ä¼¼çš„é—®é¢˜ï¼Œä½†æŠ¥çš„æ˜¯ <code>unexpected token: }}</code> çš„é”™è¯¯ã€‚æœç´¢ä¸€ä¸‹æˆ‘é‚£ç¯‡æ–‡ç« ï¼Œæœç„¶æœ‰å¥½å‡ å¤„å¸¦æœ‰ <code>}}</code> ç¬¦å·ã€‚å°è¯•ç€æŠŠå‡ å¤„ç¬¦å·åˆ é™¤ï¼Œæœç„¶æ­£å¸¸äº†ã€‚çœ‹æ¥é—®é¢˜çœŸçš„å‡ºåœ¨ <code>}}</code> ä¸Šé¢ã€‚</p><p>ç›´æ¥è¯´è§£å†³æ–¹æ¡ˆå§ï¼Œå‚è€ƒåˆ«äººçš„è§£å†³æ–¹æ³•æ˜¯åœ¨ <code>}}</code> ä¸­é—´åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œä½†å› ä¸ºæˆ‘çš„æ˜¯æœ‰éƒ¨åˆ†æ•™ç¨‹å«ä¹‰çš„æ–‡ç« ï¼Œæ‰€ä»¥å¹¶ä¸æƒ³è¿™æ ·è¯¯å¯¼äººã€‚äºæ˜¯å» github ä¸Šæ‰¾è§£å†³æ–¹æ¡ˆã€‚</p><p>github ä¸Šç»™å‡ºçš„æ–¹æ³•æ˜¯åœ¨éœ€è¦æ˜¾ç¤º <code>}}</code>ç¬¦å·çš„åœ°æ–¹åŠ ä¸Š <code>` æ ‡ç­¾ï¼Œæ ‡è®°è¿™éƒ¨åˆ†ä¸éœ€è¦è§£æã€‚ä¾‹å¦‚æ–‡ç« ä¸­å¯èƒ½ä¼šå‡ºç° `` çš„ç‰‡æ®µï¼Œå†™æˆ `{{ something }}</code> å°±å¯ä»¥äº†ã€‚</p><p>è™½ç„¶æœ‰ç‚¹éº»çƒ¦ï¼Œä½†ä¹Ÿç®—ä¸´æ—¶è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œè¿™æ˜¯ä¸ªå·²çŸ¥ bug ï¼Œå¸Œæœ›åç»­çš„ç‰ˆæœ¬èƒ½ä¿®å¤å§ï¼Œæ¯•ç«Ÿä½¿ç”¨å¤ªå¤š hexo ä¸“å±çš„æ ‡ç­¾å¯¹åšå®¢ä»¥åçš„è¿ç§»ã€æ”¹ç‰ˆä»€ä¹ˆçš„æ¥è¯´è¿˜æ˜¯å¾ˆéº»çƒ¦çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo excetpion </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Elasticsearch 5.x.x åœ¨ Windows ä¸‹åŸºæœ¬ä½¿ç”¨</title>
      <link href="/2017/03/27/elasticsearch-windows-2_basic_usage/"/>
      <url>/2017/03/27/elasticsearch-windows-2_basic_usage/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
        <tags>
            
            <tag> Elasticsearch </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# ä¸­çš„åå˜æ€§ã€é€†å˜æ€§å’Œä¸å˜æ€§</title>
      <link href="/2017/03/18/cs-covarianceAndContravariance/"/>
      <url>/2017/03/18/cs-covarianceAndContravariance/</url>
      
        <content type="html"><![CDATA[<h1 id="C-ä¸­çš„åå˜æ€§ã€é€†å˜æ€§å’Œä¸å˜æ€§"><a href="#C-ä¸­çš„åå˜æ€§ã€é€†å˜æ€§å’Œä¸å˜æ€§" class="headerlink" title="C# ä¸­çš„åå˜æ€§ã€é€†å˜æ€§å’Œä¸å˜æ€§"></a>C# ä¸­çš„åå˜æ€§ã€é€†å˜æ€§å’Œä¸å˜æ€§</h1><h2 id="åå˜å’Œé€†å˜çš„æ¦‚å¿µ-ensp"><a href="#åå˜å’Œé€†å˜çš„æ¦‚å¿µ-ensp" class="headerlink" title="åå˜å’Œé€†å˜çš„æ¦‚å¿µ&ensp;"></a>åå˜å’Œé€†å˜çš„æ¦‚å¿µ&ensp;</h2><ul><li><p>åå˜æ€§: å­ç±»è½¬åŒ–ä¸ºçˆ¶ç±» string -&gt; object</p></li><li><p>é€†å˜æ€§: çˆ¶ç±»å¼ºåˆ¶è½¬æ¢ä¸ºå­ç±» object -&gt; string æˆ–è€… object -&gt; (object)string</p></li><li><p>ä¸å˜æ€§: æ—¢ä¸å¯ä»¥åå˜ä¹Ÿä¸å¯ä»¥é€†å˜ (List<t> || è‡ªå®šä¹‰æ³›å‹ç±»å‹ä¸åŠ  out æˆ– in ä¿®é¥°)</t></p></li></ul><h2 id="æ³›å‹ç±»å‹çš„å¯å˜æ€§"><a href="#æ³›å‹ç±»å‹çš„å¯å˜æ€§" class="headerlink" title="æ³›å‹ç±»å‹çš„å¯å˜æ€§"></a>æ³›å‹ç±»å‹çš„å¯å˜æ€§</h2><h3 id="æ³›å‹ä¿®é¥°ç¬¦"><a href="#æ³›å‹ä¿®é¥°ç¬¦" class="headerlink" title="æ³›å‹ä¿®é¥°ç¬¦"></a>æ³›å‹ä¿®é¥°ç¬¦</h3><blockquote><p>out (è¿”å›å€¼): å¯¹äºæ³›å‹å‚æ•°, out å…³é”®å­—æŒ‡å®šç»™ç±»å‹å‚æ•°æ˜¯åå˜çš„.</p></blockquote><blockquote><p>in (è¾“å…¥å‚æ•°): å¯¹äºæ³›å‹å‚æ•°, in å…³é”®å­—æŒ‡å®šæ”¹ç±»å‹é‚£ä¸ªå‚æ•°æ˜¯é€†å˜çš„.</p></blockquote><ul><li>å¯ä»¥åœ¨æ³›å‹æ¥å£æˆ–æ³›å‹å§”æ‰˜ä¸­ä½¿ç”¨</li><li>æ³›å‹å‚æ•°ä¸­ in å’Œ out å¯ä»¥å…±åŒå­˜åœ¨</li></ul><a id="more"></a><h3 id="æ¡†æ¶å®šä¹‰çš„æ³›å‹å§”æ‰˜"><a href="#æ¡†æ¶å®šä¹‰çš„æ³›å‹å§”æ‰˜" class="headerlink" title="æ¡†æ¶å®šä¹‰çš„æ³›å‹å§”æ‰˜"></a>æ¡†æ¶å®šä¹‰çš„æ³›å‹å§”æ‰˜</h3><ul><li><code>Action&lt;T&gt;</code> (T æ”¯æŒé€†å˜)</li><li><code>Func&lt;TResult&gt;</code> (T æ”¯æŒåå˜)</li><li><code>Comparison&lt;T&gt;</code></li><li><code>Predicate&lt;T&gt;</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public delegate TResult Func&lt;out TResult&gt;();</span><br><span class="line">public delegate void Action&lt;in T&gt;(T obj);</span><br></pre></td></tr></table></figure></li></ul><h3 id="è‡ªå®šä¹‰æ³›å‹å§”æ‰˜"><a href="#è‡ªå®šä¹‰æ³›å‹å§”æ‰˜" class="headerlink" title="è‡ªå®šä¹‰æ³›å‹å§”æ‰˜"></a>è‡ªå®šä¹‰æ³›å‹å§”æ‰˜</h3><h3 id="æ¡†æ¶å®šä¹‰çš„æ³›å‹æ¥å£"><a href="#æ¡†æ¶å®šä¹‰çš„æ³›å‹æ¥å£" class="headerlink" title="æ¡†æ¶å®šä¹‰çš„æ³›å‹æ¥å£"></a>æ¡†æ¶å®šä¹‰çš„æ³›å‹æ¥å£</h3><ul><li><code>IEnumerable&lt;T&gt;</code> (T æ”¯æŒåå˜)</li><li><code>IEnumerator&lt;T&gt;</code> (T æ”¯æŒåå˜)</li><li><code>IQueryable&lt;T&gt;</code> (T æ”¯æŒåå˜)</li><li><code>IGrouping&lt;TKey, TElement&gt;</code> (TKey å’Œ TElement æ”¯æŒåå˜)</li><li><code>IComparer&lt;T&gt;</code> (T æ”¯æŒé€†å˜)</li><li><code>IEqualityComparer&lt;T&gt;</code> (T æ”¯æŒé€†å˜)</li><li><code>IComparable&lt;T&gt;</code> (T æ”¯æŒé€†å˜)</li></ul><h3 id="è‡ªå®šä¹‰æ³›å‹æ¥å£"><a href="#è‡ªå®šä¹‰æ³›å‹æ¥å£" class="headerlink" title="è‡ªå®šä¹‰æ³›å‹æ¥å£"></a>è‡ªå®šä¹‰æ³›å‹æ¥å£</h3><h3 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h3><h4 id="ä¸ºä»€ä¹ˆ-out-è¿”å›å€¼-åªèƒ½åå˜"><a href="#ä¸ºä»€ä¹ˆ-out-è¿”å›å€¼-åªèƒ½åå˜" class="headerlink" title=" ä¸ºä»€ä¹ˆ out(è¿”å›å€¼) åªèƒ½åå˜? "></a><p style="color:red;"> ä¸ºä»€ä¹ˆ out(è¿”å›å€¼) åªèƒ½åå˜? </p></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IEnumerable&lt;object&gt; obj = new List&lt;object&gt;();</span><br><span class="line">//å¦‚æœåœ¨è¿™é‡Œæˆ‘æƒ³objä¸­æ·»åŠ </span><br><span class="line">IEnumeralbe&lt;string&gt; str = obj;</span><br></pre></td></tr></table></figure><h4 id="ä¸ºä»€ä¹ˆ-out-è¿”å›å€¼-åªèƒ½åå˜-1"><a href="#ä¸ºä»€ä¹ˆ-out-è¿”å›å€¼-åªèƒ½åå˜-1" class="headerlink" title=" ä¸ºä»€ä¹ˆ out(è¿”å›å€¼) åªèƒ½åå˜? "></a><p style="color:red;"> ä¸ºä»€ä¹ˆ out(è¿”å›å€¼) åªèƒ½åå˜? </p></h4>]]></content>
      
      
      <categories>
          
          <category> dotnet </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C# Syntax </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ VS ä¸­è¿œç¨‹éƒ¨ç½² ASP.NET MVC é¡¹ç›®åˆ°æœåŠ¡å™¨</title>
      <link href="/2017/02/22/cs-vs_remote_deployment_webapp/"/>
      <url>/2017/02/22/cs-vs_remote_deployment_webapp/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æƒ³å¿…ä»¥å‰æˆ‘ä»¬éƒ½æœ‰è¿‡å°† ASP.NET MVC é¡¹ç›®éƒ¨ç½²åˆ°è¿œç¨‹æœåŠ¡å™¨çš„ç»å†, æœ€æ™®é€šä¹Ÿæœ€éº»çƒ¦çš„æ–¹æ³•å°±æ˜¯å°†å‘å¸ƒåçš„é¡¹ç›®æ‰“åŒ…ä¸Šä¼ åˆ°è¿œç¨‹æœåŠ¡å™¨, æ“ä½œèµ·æ¥éå¸¸ä¸æ–¹ä¾¿. VS å…¶å®ä»å¾ˆæ—©å°±æ”¯æŒå°†é¡¹ç›® Publish åˆ°è¿œç¨‹çš„æ“ä½œ.</p><blockquote><p>ç°åœ¨ä¹Ÿæœ‰å¾ˆå¤šè‡ªåŠ¨åŒ–éƒ¨ç½²å·¥å…·, Jenkins, PowerShell è„šæœ¬ç­‰ç­‰, æš‚ä¸è®¨è®º</p></blockquote><h2 id="éƒ¨ç½²ç¯å¢ƒ"><a href="#éƒ¨ç½²ç¯å¢ƒ" class="headerlink" title="éƒ¨ç½²ç¯å¢ƒ"></a>éƒ¨ç½²ç¯å¢ƒ</h2><p>Windows Server 2008 R2 Enterprise<br>Visual Studio 13 +</p><h2 id="é…ç½®è¿œç¨‹æœåŠ¡å™¨"><a href="#é…ç½®è¿œç¨‹æœåŠ¡å™¨" class="headerlink" title="é…ç½®è¿œç¨‹æœåŠ¡å™¨"></a>é…ç½®è¿œç¨‹æœåŠ¡å™¨</h2><h3 id="å®‰è£…-Web-Deploy"><a href="#å®‰è£…-Web-Deploy" class="headerlink" title="å®‰è£… Web Deploy"></a>å®‰è£… Web Deploy</h3><p>Web Deploy, ä¸‹è½½åœ°å€: <a href="http://www.iis.net/downloads/microsoft/web-deploy" target="_blank" rel="noopener">http://www.iis.net/downloads/microsoft/web-deploy</a></p><blockquote><p>å®‰è£… 3.5 ä»¥ä¸Šç‰ˆæœ¬, å¦åˆ™å‘å¸ƒé¡¹ç›®æ—¶ä¼šå‡ºé¡¹ â€œæ— æ³•è¿æ¥åˆ°è¿œç¨‹æœåŠ¡å™¨â€ çš„é”™è¯¯æç¤º</p></blockquote><a id="more"></a><h3 id="å¯ç”¨-IIS-çš„ç®¡ç†æœåŠ¡"><a href="#å¯ç”¨-IIS-çš„ç®¡ç†æœåŠ¡" class="headerlink" title="å¯ç”¨ IIS çš„ç®¡ç†æœåŠ¡"></a>å¯ç”¨ IIS çš„ç®¡ç†æœåŠ¡</h3><p>åœ¨ç®¡ç†æœåŠ¡ä¸­æ·»åŠ  IIS çš„ Management Service åŠŸèƒ½.</p><p><img src="/assets/webdeploy/1.server_manager_add_features.png" alt></p><p><img src="/assets/webdeploy/2.iis_management_service.png" alt></p><p>å®‰è£…å®Œæˆä¹‹å, ç¡®ä¿åœ¨ â€œæœåŠ¡â€ ä¸­å°†å…¶å¯åŠ¨:</p><p><img src="/assets/webdeploy/3.as_service_started.png" alt></p><blockquote><p>å¦‚æœè¯¥æœåŠ¡æ²¡æœ‰å¯åŠ¨, æˆ–è€…æ²¡æœ‰å¯ç”¨ â€œManagement Serviceâ€ åŠŸèƒ½, åˆ™åœ¨ä½¿ç”¨ Web Deploy éƒ¨ç½²é¡¹ç›®æ—¶ä¼šé‡åˆ°å¦‚ä¸‹é”™è¯¯: <img src="/assets/webdeploy/4.error.png" alt></p></blockquote><h3 id="IIS-è®¾ç½®"><a href="#IIS-è®¾ç½®" class="headerlink" title="IIS è®¾ç½®"></a>IIS è®¾ç½®</h3><p>å¯ç”¨ç®¡ç†æœåŠ¡å, è¿›å…¥ IIS, ä¼šå¤šå‡º Management Service é€‰é¡¹:</p><p><img src="/assets/webdeploy/5.iis_home.png" alt></p><p>åŒå‡»è¿›è¡Œé…ç½®:</p><p><img src="/assets/webdeploy/6.management_service_setting.png" alt></p><h3 id="é…ç½®è¿œéƒ¨ç½²é¡¹ç›®çš„è´¦æˆ·"><a href="#é…ç½®è¿œéƒ¨ç½²é¡¹ç›®çš„è´¦æˆ·" class="headerlink" title="é…ç½®è¿œéƒ¨ç½²é¡¹ç›®çš„è´¦æˆ·"></a>é…ç½®è¿œéƒ¨ç½²é¡¹ç›®çš„è´¦æˆ·</h3><p>åŒå‡» IIS Manager Users:</p><p><img src="/assets/webdeploy/7.iis_user.png" alt></p><p>ç‚¹å‡» Add Userâ€¦:</p><p><img src="/assets/webdeploy/8.iis_user_add.png" alt></p><p>è¾“å…¥ç”¨æˆ·åå¯†ç :</p><blockquote><p>åœ¨ VS ä¸­å‘å¸ƒæ˜¯ä¹Ÿéœ€è¦æ­¤æ¬¡è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç </p></blockquote><p><img src="/assets/webdeploy/9.iis_user_name_pass.png" alt></p><h3 id="é…ç½®ç«™ç‚¹ç”¨æˆ·æƒé™"><a href="#é…ç½®ç«™ç‚¹ç”¨æˆ·æƒé™" class="headerlink" title="é…ç½®ç«™ç‚¹ç”¨æˆ·æƒé™"></a>é…ç½®ç«™ç‚¹ç”¨æˆ·æƒé™</h3><p>ç‚¹å‡»è¦å‘å¸ƒçš„ç«™ç‚¹, ç„¶åé€‰æ‹© IIS Manager Persmissions:</p><p><img src="/assets/webdeploy/10.iis_user_permission.png" alt></p><p>ä¹‹åç‚¹å‡» â€œAllow Userâ€ :</p><p><img src="/assets/webdeploy/11.iis_allow_user.png" alt></p><p>å°†ä¹‹å‰æ·»åŠ çš„ test ç”¨æˆ·åŠ å…¥:</p><p><img src="/assets/webdeploy/12.select_user.png" alt></p><h3 id="ä¸ºç«™ç‚¹ç›®å½•æ·»åŠ æœ¬åœ°æœåŠ¡çš„ä¿®æ”¹æƒé™"><a href="#ä¸ºç«™ç‚¹ç›®å½•æ·»åŠ æœ¬åœ°æœåŠ¡çš„ä¿®æ”¹æƒé™" class="headerlink" title="ä¸ºç«™ç‚¹ç›®å½•æ·»åŠ æœ¬åœ°æœåŠ¡çš„ä¿®æ”¹æƒé™"></a>ä¸ºç«™ç‚¹ç›®å½•æ·»åŠ æœ¬åœ°æœåŠ¡çš„ä¿®æ”¹æƒé™</h3><p>â€œLOCAL SERVICEâ€ è´¦æˆ·è¦æœ‰ä¿®æ”¹ é¡¹ç›®å‘å¸ƒæ–‡ä»¶å¤¹ çš„æƒé™:</p><p><img src="/assets/webdeploy/17.floder_peimission.png" alt></p><p><img src="/assets/webdeploy/18.full_setting.png" alt></p><h2 id="ä½¿ç”¨-Visual-Studio-2015-è¿œç¨‹éƒ¨ç½²é¡¹ç›®"><a href="#ä½¿ç”¨-Visual-Studio-2015-è¿œç¨‹éƒ¨ç½²é¡¹ç›®" class="headerlink" title="ä½¿ç”¨ Visual Studio 2015 è¿œç¨‹éƒ¨ç½²é¡¹ç›®"></a>ä½¿ç”¨ Visual Studio 2015 è¿œç¨‹éƒ¨ç½²é¡¹ç›®</h2><p>æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶:</p><p><img src="/assets/webdeploy/13.pubish.png" alt></p><p>é…ç½® Web Deploy:</p><p><img src="/assets/webdeploy/15.connection.png" alt></p><p>ç‚¹å‡»æ£€æŸ¥å°±å¯ä»¥äº†:</p><p><img src="/assets/webdeploy/16.check.png" alt></p><blockquote><p>é»˜è®¤ä¼šåœ¨æœ¬åœ°æµè§ˆå™¨æ‰“å¼€</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> dotnet </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ASP.NET MVC </tag>
            
            <tag> Visual Stduio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Elasticsearch 5.x.x åœ¨ Windows ä¸‹å®‰è£…é…ç½®</title>
      <link href="/2017/01/18/elasticsearch-windows-1_install_plugins/"/>
      <url>/2017/01/18/elasticsearch-windows-1_install_plugins/</url>
      
        <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å…³äº Elasticsearch çš„ä»‹ç»å¯ä»¥æŸ¥çœ‹ <a href="https://www.gitbook.com/book/fuxiaopang/learnelasticsearch/details" target="_blank" rel="noopener">Elasticsearch æƒå¨æŒ‡å—</a>, è®²è§£çš„éå¸¸è¯¦ç»†.</p><p>æœ¬æ–‡ä¸»è¦è®²è§£, Elasticsearch 5.x.x ç‰ˆæœ¬åœ¨ Windows ç¯å¢ƒä¸‹çš„å®‰è£…å’Œä¸­æ–‡åˆ†è¯æ’ä»¶é…ç½®</p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p>ç”±äº Elasticsearch æ˜¯åŸºäº Lucene çš„, æ‰€ä»¥è¦ä¾èµ– Java ç¯å¢ƒ</p><ul><li><p>å®‰è£…æœ€æ–°ç‰ˆ JAVA, ç”± <a href="http://www.java.com/" target="_blank" rel="noopener">www.java.com</a> ä¸‹è½½</p><p>  å®‰è£…ç›®å½•ç¤ºä¾‹: <code>C:\Program Files\Java</code></p></li></ul><a id="more"></a>    <ul><li><p>é…ç½® JAVA ç¯å¢ƒå˜é‡</p><p>  æ–°å»ºç³»ç»Ÿå˜é‡ JAVA_HOME, æŒ‡å‘ JAVA å®‰è£…è·¯å¾„<br>  <img src="/assets/elasticsearch/java_home.png" alt><br>  ç¼–è¾‘ç³»ç»Ÿå˜é‡ä¸­ Path ,æ–°å¢ <code>%JAVA_HOME%\bin</code> æˆ– <code>%JAVA_HOME%\jre\bin</code><br>  <img src="/assets/elasticsearch/path_java_home.png" alt></p></li><li><p>ä¸‹è½½ Elasticsearch 5.x.x ç‰ˆæœ¬ zip åŒ…, å¯ç”± <a href="http://www.elasticsearch.org/download/" target="_blank" rel="noopener">elasticsearch.org/download</a> ä¸‹è½½, è§£å‹åˆ°ç›¸åº”ç›®å½•<br>  <img src="/assets/elasticsearch/elasticsearch511.png" alt></p></li><li><p>ç°åœ¨å¯ç›´æ¥åœ¨æ§åˆ¶å°è¿è¡Œ elasticsearch.bat, å°±å·²ç»å¯åŠ¨äº† elasticsearch æœåŠ¡, å¯åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ localhost:9200 æŸ¥çœ‹çŠ¶æ€<br>  <img src="/assets/elasticsearch/9200status.png" alt></p></li></ul><blockquote><p>ä¹Ÿå¯ä»¥å°† elasticsearch æ·»åŠ ä¸º windows æœåŠ¡, éšç³»ç»Ÿå¯åŠ¨</p><ul><li>åœ¨æ§åˆ¶å°æ‰§è¡Œ ealsticsearch-service install å‘½ä»¤å³å¯</li><li>å¸è½½æœåŠ¡å‘½ä»¤ ealsticsearch-service remove</li><li>é‡å¯æœåŠ¡å‘½ä»¤ ealsticsearch-service restart</li></ul></blockquote><h1 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h1><h2 id="å®‰è£…-elasticsearch-head"><a href="#å®‰è£…-elasticsearch-head" class="headerlink" title="å®‰è£… elasticsearch-head"></a>å®‰è£… elasticsearch-head</h2><p>Git åœ°å€ <a href="https://github.com/mobz/elasticsearch-head" target="_blank" rel="noopener">elasticsearch-head</a>, å¯¹äº Elasticsearch 5.x, elasticsearch-head ä¸å†ä»¥æ’ä»¶çš„æ–¹å¼é›†æˆåˆ° Elasticsearch ä¸­, è€Œæ˜¯ä½œä¸ºç‹¬ç«‹çš„æœåŠ¡.</p><p>å…·ä½“æ“ä½œåœ¨é¡¹ç›®çš„ ReadMe æ–‡ä»¶ä¸­å·²ç»æè¿°çš„å¾ˆè¯¦ç»†äº†, <a href="https://github.com/mobz/elasticsearch-head#running-with-built-in-server" target="_blank" rel="noopener">æŸ¥çœ‹è®¾ç½®</a></p><p>è®¾ç½®å®Œæˆå, æ‰“å¼€å¯¹åº”åœ°å€å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç»“æœ:<br><img src="/assets/elasticsearch/elasticsearch_head.png" alt><br>å…¶ä¸­ index å’Œ db_news æ˜¯å»ºç«‹çš„ç´¢å¼•</p><h2 id="å®‰è£…-Kibana"><a href="#å®‰è£…-Kibana" class="headerlink" title="å®‰è£… Kibana"></a>å®‰è£… Kibana</h2><p>ä¸‹è½½åœ°å€ <a href="https://www.elastic.co/products" target="_blank" rel="noopener">https://www.elastic.co/products</a></p><blockquote><p>ç‰ˆæœ¬è¦ä¸ elasticsearch ç‰ˆæœ¬å¯¹åº”</p></blockquote><ul><li>è§£å‹ zip æ–‡ä»¶. å¼€å¯ elasticsearch æœåŠ¡å</li><li>è¿›å…¥ç›¸åº” bin ç›®å½•, è¿è¡Œ kibana</li><li>è®¿é—® localhost://5601 å³å¯</li></ul><h2 id="å®‰è£…-elasticsearch-analysis-ik"><a href="#å®‰è£…-elasticsearch-analysis-ik" class="headerlink" title="å®‰è£… elasticsearch-analysis-ik"></a>å®‰è£… elasticsearch-analysis-ik</h2><p>Git åœ°å€ <a href="https://github.com/medcl/elasticsearch-analysis-ik" target="_blank" rel="noopener">elasticsearch-analysis-ik</a></p><blockquote><p>ç‰ˆæœ¬è¦ä¸ elasticsearch ç‰ˆæœ¬å¯¹åº”</p></blockquote><ul><li>åœ¨ Elasticsearch æ ¹ç›®å½•ä¸­ plugins ä¸‹æ–°å»º ik æ–‡ä»¶å¤¹</li><li>æ ¹æ®å¯¹åº”å…³ç³», é€‰æ‹©ä¸‹è½½ v5.x.x çš„ Release zip æ–‡ä»¶(å½“ç„¶ä¹Ÿå¯ä»¥ä¸‹è½½æºç , è‡ªå·±ç¼–è¯‘)<br>  <img src="/assets/elasticsearch/ik_version.png" alt></li><li>å°† zip è§£å‹åˆ°æ–°å»ºç«‹çš„ ik æ–‡ä»¶å¤¹ä¸‹<br>  <img src="/assets/elasticsearch/ik_detail.png" alt></li></ul><h2 id="å®‰è£…-elasticsearch-analysis-pinyin"><a href="#å®‰è£…-elasticsearch-analysis-pinyin" class="headerlink" title="å®‰è£… elasticsearch-analysis-pinyin"></a>å®‰è£… elasticsearch-analysis-pinyin</h2><p>Git åœ°å€ <a href="https://github.com/medcl/elasticsearch-analysis-pinyin" target="_blank" rel="noopener">elasticsearch-analysis-pinyin</a></p><blockquote><p>ç‰ˆæœ¬è¦ä¸ elasticsearch ç‰ˆæœ¬å¯¹åº”</p></blockquote><ul><li>åœ¨ Elasticsearch æ ¹ç›®å½•ä¸­ plugins ä¸‹æ–°å»º pinyin æ–‡ä»¶å¤¹</li><li>æ ¹æ®å¯¹åº”å…³ç³», é€‰æ‹©ä¸‹è½½ v5.x.x çš„ Release zip æ–‡ä»¶(å½“ç„¶ä¹Ÿå¯ä»¥ä¸‹è½½æºç , è‡ªå·±ç¼–è¯‘)</li><li>å°† zip è§£å‹åˆ°æ–°å»ºç«‹çš„ pinyin æ–‡ä»¶å¤¹ä¸‹</li></ul><p>å®‰è£…å®Œæˆå, é‡å¯ Elasticsearch æœåŠ¡å°±å¯ä»¥ä½¿ç”¨äº†.</p><h2 id="ä½¿ç”¨-Maven-æ‰“åŒ…-elasticsearch-analysis-ik-å’Œ-elasticsearch-analysis-pinyin"><a href="#ä½¿ç”¨-Maven-æ‰“åŒ…-elasticsearch-analysis-ik-å’Œ-elasticsearch-analysis-pinyin" class="headerlink" title="ä½¿ç”¨ Maven æ‰“åŒ… elasticsearch-analysis-ik å’Œ elasticsearch-analysis-pinyin"></a>ä½¿ç”¨ Maven æ‰“åŒ… elasticsearch-analysis-ik å’Œ elasticsearch-analysis-pinyin</h2><p>æœ‰æ—¶å€™åœ¨ github ä¸Šä¸èƒ½ç›´æ¥ä¸‹è½½ release åŒ…, æˆ‘ä»¬å°±éœ€è¦ Maven æ¥å¤„ç†</p><p>ä¸‹è½½æœ€æ–°ç‰ˆ Maven: <a href="http://maven.apache.org/download.cgi" target="_blank" rel="noopener">http://maven.apache.org/download.cgi</a></p><ul><li>è§£å‹</li><li>é…ç½®ç¯å¢ƒå˜é‡ (è·¯å¾„\bin)</li><li>æµ‹è¯• (mvn -v)</li><li>è¿›å…¥å·²ç»ä¸‹è½½çš„ <code>elasticsearch-analysis-ik</code> æ–‡ä»¶å¤¹ä¸‹</li><li>è¿è¡Œ mvn package</li><li>ç»“æŸåå¤åˆ¶ target/releases//elasticsearch-analysis-ik-{version}.zip å³å¯<blockquote><p>elasticsearch-analysis-pinyin æ“ä½œç›¸åŒ</p></blockquote></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Elasticsearch </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Elasticsearch 5.x.x åœ¨ Windows ä¸‹å®‰è£…é…ç½®</title>
      <link href="/2017/01/18/elasticsearch-windows-5.1.1/"/>
      <url>/2017/01/18/elasticsearch-windows-5.1.1/</url>
      
        <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å…³äº Elasticsearch çš„ä»‹ç»å¯ä»¥æŸ¥çœ‹ <a href="https://www.gitbook.com/book/fuxiaopang/learnelasticsearch/details" target="_blank" rel="noopener">Elasticsearch æƒå¨æŒ‡å—</a>, è®²è§£çš„éå¸¸è¯¦ç»†.</p><p>æœ¬æ–‡ä¸»è¦è®²è§£, Elasticsearch 5.x.x ç‰ˆæœ¬åœ¨ Windows ç¯å¢ƒä¸‹çš„å®‰è£…å’Œä¸­æ–‡åˆ†è¯æ’ä»¶é…ç½®</p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p>ç”±äº Elasticsearch æ˜¯åŸºäº Lucene çš„, æ‰€ä»¥è¦ä¾èµ– Java ç¯å¢ƒ</p><ul><li><p>å®‰è£…æœ€æ–°ç‰ˆ JAVA, ç”± <a href="http://www.java.com/" target="_blank" rel="noopener">www.java.com</a> ä¸‹è½½</p><p>  å®‰è£…ç›®å½•ç¤ºä¾‹: <code>C:\Program Files\Java</code></p></li></ul><a id="more"></a>    <ul><li><p>é…ç½® JAVA ç¯å¢ƒå˜é‡</p><p>  æ–°å»ºç³»ç»Ÿå˜é‡ JAVA_HOME, æŒ‡å‘ JAVA å®‰è£…è·¯å¾„<br>  <img src="/assets/elasticsearch/java_home.png" alt><br>  ç¼–è¾‘ç³»ç»Ÿå˜é‡ä¸­ Path ,æ–°å¢ <code>%JAVA_HOME%\bin</code> æˆ– <code>%JAVA_HOME%\jre\bin</code><br>  <img src="/assets/elasticsearch/path_java_home.png" alt></p></li><li><p>ä¸‹è½½ Elasticsearch 5.x.x ç‰ˆæœ¬ zip åŒ…, å¯ç”± <a href="http://www.elasticsearch.org/download/" target="_blank" rel="noopener">elasticsearch.org/download</a> ä¸‹è½½, è§£å‹åˆ°ç›¸åº”ç›®å½•<br>  <img src="/assets/elasticsearch/elasticsearch511.png" alt></p></li><li><p>ç°åœ¨å¯ç›´æ¥åœ¨æ§åˆ¶å°è¿è¡Œ elasticsearch.bat, å°±å·²ç»å¯åŠ¨äº† elasticsearch æœåŠ¡, å¯åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ localhost:9200 æŸ¥çœ‹çŠ¶æ€<br>  <img src="/assets/elasticsearch/9200status.png" alt></p></li></ul><blockquote><p>ä¹Ÿå¯ä»¥å°† elasticsearch æ·»åŠ ä¸º windows æœåŠ¡, éšç³»ç»Ÿå¯åŠ¨</p><ul><li>åœ¨æ§åˆ¶å°æ‰§è¡Œ ealsticsearch-service install å‘½ä»¤å³å¯</li><li>å¸è½½æœåŠ¡å‘½ä»¤ ealsticsearch-service remove</li><li>é‡å¯æœåŠ¡å‘½ä»¤ ealsticsearch-service restart</li></ul></blockquote><h1 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h1><h2 id="å®‰è£…-elasticsearch-head"><a href="#å®‰è£…-elasticsearch-head" class="headerlink" title="å®‰è£… elasticsearch-head"></a>å®‰è£… elasticsearch-head</h2><p>Git åœ°å€ <a href="https://github.com/mobz/elasticsearch-head" target="_blank" rel="noopener">elasticsearch-head</a>, å¯¹äº Elasticsearch 5.x, elasticsearch-head ä¸å†ä»¥æ’ä»¶çš„æ–¹å¼é›†æˆåˆ° Elasticsearch ä¸­, è€Œæ˜¯ä½œä¸ºç‹¬ç«‹çš„æœåŠ¡.</p><p>å…·ä½“æ“ä½œåœ¨é¡¹ç›®çš„ ReadMe æ–‡ä»¶ä¸­å·²ç»æè¿°çš„å¾ˆè¯¦ç»†äº†, <a href="https://github.com/mobz/elasticsearch-head#running-with-built-in-server" target="_blank" rel="noopener">æŸ¥çœ‹è®¾ç½®</a></p><p>è®¾ç½®å®Œæˆå, æ‰“å¼€å¯¹åº”åœ°å€å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç»“æœ:<br><img src="/assets/elasticsearch/elasticsearch_head.png" alt><br>å…¶ä¸­ index å’Œ db_news æ˜¯å»ºç«‹çš„ç´¢å¼•</p><h2 id="å®‰è£…-Kibana"><a href="#å®‰è£…-Kibana" class="headerlink" title="å®‰è£… Kibana"></a>å®‰è£… Kibana</h2><p>ä¸‹è½½åœ°å€ <a href="https://www.elastic.co/products" target="_blank" rel="noopener">https://www.elastic.co/products</a></p><blockquote><p>ç‰ˆæœ¬è¦ä¸ elasticsearch ç‰ˆæœ¬å¯¹åº”</p></blockquote><ul><li>è§£å‹ zip æ–‡ä»¶. å¼€å¯ elasticsearch æœåŠ¡å</li><li>è¿›å…¥ç›¸åº” bin ç›®å½•, è¿è¡Œ kibana</li><li>è®¿é—® localhost://5601 å³å¯</li></ul><h2 id="å®‰è£…-elasticsearch-analysis-ik"><a href="#å®‰è£…-elasticsearch-analysis-ik" class="headerlink" title="å®‰è£… elasticsearch-analysis-ik"></a>å®‰è£… elasticsearch-analysis-ik</h2><p>Git åœ°å€ <a href="https://github.com/medcl/elasticsearch-analysis-ik" target="_blank" rel="noopener">elasticsearch-analysis-ik</a></p><blockquote><p>ç‰ˆæœ¬è¦ä¸ elasticsearch ç‰ˆæœ¬å¯¹åº”</p></blockquote><ul><li>åœ¨ Elasticsearch æ ¹ç›®å½•ä¸­ plugins ä¸‹æ–°å»º ik æ–‡ä»¶å¤¹</li><li>æ ¹æ®å¯¹åº”å…³ç³», é€‰æ‹©ä¸‹è½½ v5.x.x çš„ Release zip æ–‡ä»¶(å½“ç„¶ä¹Ÿå¯ä»¥ä¸‹è½½æºç , è‡ªå·±ç¼–è¯‘)<br>  <img src="/assets/elasticsearch/ik_version.png" alt></li><li>å°† zip è§£å‹åˆ°æ–°å»ºç«‹çš„ ik æ–‡ä»¶å¤¹ä¸‹<br>  <img src="/assets/elasticsearch/ik_detail.png" alt></li></ul><h2 id="å®‰è£…-elasticsearch-analysis-pinyin"><a href="#å®‰è£…-elasticsearch-analysis-pinyin" class="headerlink" title="å®‰è£… elasticsearch-analysis-pinyin"></a>å®‰è£… elasticsearch-analysis-pinyin</h2><p>Git åœ°å€ <a href="https://github.com/medcl/elasticsearch-analysis-pinyin" target="_blank" rel="noopener">elasticsearch-analysis-pinyin</a></p><blockquote><p>ç‰ˆæœ¬è¦ä¸ elasticsearch ç‰ˆæœ¬å¯¹åº”</p></blockquote><ul><li>åœ¨ Elasticsearch æ ¹ç›®å½•ä¸­ plugins ä¸‹æ–°å»º pinyin æ–‡ä»¶å¤¹</li><li>æ ¹æ®å¯¹åº”å…³ç³», é€‰æ‹©ä¸‹è½½ v5.x.x çš„ Release zip æ–‡ä»¶(å½“ç„¶ä¹Ÿå¯ä»¥ä¸‹è½½æºç , è‡ªå·±ç¼–è¯‘)</li><li>å°† zip è§£å‹åˆ°æ–°å»ºç«‹çš„ pinyin æ–‡ä»¶å¤¹ä¸‹</li></ul><p>å®‰è£…å®Œæˆå, é‡å¯ Elasticsearch æœåŠ¡å°±å¯ä»¥ä½¿ç”¨äº†.</p><h2 id="ä½¿ç”¨-Maven-æ‰“åŒ…-elasticsearch-analysis-ik-å’Œ-elasticsearch-analysis-pinyin"><a href="#ä½¿ç”¨-Maven-æ‰“åŒ…-elasticsearch-analysis-ik-å’Œ-elasticsearch-analysis-pinyin" class="headerlink" title="ä½¿ç”¨ Maven æ‰“åŒ… elasticsearch-analysis-ik å’Œ elasticsearch-analysis-pinyin"></a>ä½¿ç”¨ Maven æ‰“åŒ… elasticsearch-analysis-ik å’Œ elasticsearch-analysis-pinyin</h2><p>æœ‰æ—¶å€™åœ¨ github ä¸Šä¸èƒ½ç›´æ¥ä¸‹è½½ release åŒ…, æˆ‘ä»¬å°±éœ€è¦ Maven æ¥å¤„ç†</p><p>ä¸‹è½½æœ€æ–°ç‰ˆ Maven: <a href="http://maven.apache.org/download.cgi" target="_blank" rel="noopener">http://maven.apache.org/download.cgi</a></p><ul><li>è§£å‹</li><li>é…ç½®ç¯å¢ƒå˜é‡ (è·¯å¾„\bin)</li><li>æµ‹è¯• (mvn -v)</li><li>è¿›å…¥å·²ç»ä¸‹è½½çš„ <code>elasticsearch-analysis-ik</code> æ–‡ä»¶å¤¹ä¸‹</li><li>è¿è¡Œ mvn package</li><li>ç»“æŸåå¤åˆ¶ target/releases//elasticsearch-analysis-ik-{version}.zip å³å¯<blockquote><p>elasticsearch-analysis-pinyin æ“ä½œç›¸åŒ</p></blockquote></li></ul>]]></content>
      
      
      <categories>
          
          <category> Elasticsearch </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Elasticsearch </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ASP.NET MVC æºç æ§åˆ¶é‡Œä¿æŒç§æœ‰è®¾ç½®çš„ web.config æˆ– app.config</title>
      <link href="/2016/12/07/keep_private_setting_out_of_source_control/"/>
      <url>/2016/12/07/keep_private_setting_out_of_source_control/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åŸè‹±æ–‡åšå®¢åœ°å€: <a href="http://johnatten.com/2014/04/06/asp-net-mvc-keep-private-settings-out-of-source-control/#Use-configSource-Attribute-to-move-an-Entire-Configuration-Section-to-Its-Own-File" target="_blank" rel="noopener">ASP.NET MVC: Keep Private Settings Out of Source Control</a></p></blockquote><p>åœ¨ä½¿ç”¨ git ç®¡ç† ASP.NET MVC ä»£ç æ—¶, å½“åˆ«äººæ„å¤– push äº†è‡ªå·±ä¿®æ”¹è¿‡çš„ web.config æˆ– app.config æ–‡ä»¶, æˆ‘ä»¬æ¯æ¬¡åœ¨ pull æ—¶æ€»è¦ä¿®æ”¹æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²æˆ–è€…ä¸€äº›å…¶ä»–ç§æœ‰è®¾ç½®. å¾ˆéº»çƒ¦</p><p>ç°æœ‰ä»¥ä¸‹è§£å†³æ–¹å¼:</p><ul><li><a href="#use-configSource-attr">ä½¿ç”¨ configSource Attribute æŠŠæ•´ä½“é…ç½®éƒ¨åˆ†ç§»åŠ¨åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­</a></li><li><a href="#use-file-attr">ä½¿ç”¨ File Attribute æœ‰é€‰æ‹©çš„ç§»åŠ¨ Application Settings (appSettings æ ‡ç­¾ä¸‹çš„è®¾ç½®) åˆ°å¤–éƒ¨æ–‡ä»¶</a></li><li><a href="#add-ignore">åœ¨ .gitignore ä¸­æ·»åŠ ç‰¹æ®Šæ–‡ä»¶</a></li><li><a href="#document-is-key">Documentation is Key</a></li></ul><a id="more"></a><p>ä»¥ ASP.NET Web.config æ–‡ä»¶ä¸ºä¾‹:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">  A bunch of ASP.NET MVC web config stuff goes here . . . </span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">connectionStrings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">add</span> <span class="attr">name</span>=<span class="string">"DefaultConnection"</span> <span class="attr">value</span>=<span class="string">"YourConnectionStringAndPassword"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">connectionStrings</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">appSettings</span> <span class="attr">file</span>=<span class="string">"PrivateSettings.config"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">"owin:AppStartup"</span> <span class="attr">value</span>=<span class="string">"AspNetIdentity2ExtendingApplicationUser.Startup,AspNetIdentity2ExtendingApplicationUser"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">"webpages:Version"</span> <span class="attr">value</span>=<span class="string">"3.0.0.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">"webpages:Enabled"</span> <span class="attr">value</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">"ClientValidationEnabled"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">"UnobtrusiveJavaScriptEnabled"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">"EMAIL_PASSWORD"</span> <span class="attr">value</span>=<span class="string">"YourEmailPassword"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">appSettings</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç”±äºä¸åŒå¼€å‘äººå‘˜å¯èƒ½æœ‰ä¸åŒçš„æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²é…ç½®, æ ¹æ® .NET <code>ConfigurationManager</code> æä¾›äº†è§£å†³çš„æ–¹æ¡ˆ. </p><p><span id="use-configSource-attr"></span></p><h2 id="ä½¿ç”¨-configSource-Attribute-æŠŠæ•´ä½“é…ç½®éƒ¨åˆ†ç§»åŠ¨åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­"><a href="#ä½¿ç”¨-configSource-Attribute-æŠŠæ•´ä½“é…ç½®éƒ¨åˆ†ç§»åŠ¨åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­" class="headerlink" title="ä½¿ç”¨ configSource Attribute æŠŠæ•´ä½“é…ç½®éƒ¨åˆ†ç§»åŠ¨åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­"></a>ä½¿ç”¨ configSource Attribute æŠŠæ•´ä½“é…ç½®éƒ¨åˆ†ç§»åŠ¨åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­</h2><p>æˆ‘ä»¬å¯ä»¥æ·»åŠ å•ç‹¬çš„é…ç½®æ–‡ä»¶ ConnectionStrings.config, å¹¶ä¸”åœ¨ Web.config æ–‡ä»¶ä¸­çš„ <code>configSource</code> ç‰¹æ€§ä¸­ä½¿ç”¨å®ƒ.</p><ul><li><p>æ–°å»º ConnectionStrings.config æ–‡ä»¶</p></li><li><p>æŠŠå…ˆé¢çš„å†…å®¹æ·»åŠ åˆ° ConnectionStrings.config ä¸­ (ä¸éœ€è¦ xml å¤´å£°æ˜, åªæœ‰ <code>connectionStrings</code> æ ‡ç­¾, ç„¶ååœ¨æ ‡ç­¾é‡Œæ·»åŠ  <code>&lt;add&gt;</code> å…ƒç´ )</p><p>  <strong>ConnectionStrings.config æ–‡ä»¶ä¾‹å­:</strong> <label style="color: red;">è¿™é‡Œé¢çš„ &lt;connectionStrings&gt; ä¸­ä¸è¦æ·»åŠ  configSource æ ‡ç­¾, å¦åˆ™æŠ¥é”™ </label></p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">connectionStrings</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">add</span> <span class="attr">name</span>=<span class="string">"DefaultConnection"</span> <span class="attr">value</span>=<span class="string">"YourConnectionStringAndPassword"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">connectionStrings</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹ Web.config æ–‡ä»¶, ç§»é™¤ <strong><connectionstrings></connectionstrings></strong> ä¸‹é¢çš„ <strong><add></add></strong> å…ƒç´ , åœ¨ <strong><connectionstrings></connectionstrings></strong> ä¾¿ç­¾ä¸­æ·»åŠ  <code>configSource</code> ç‰¹æ€§, å€¼ä¸ºæ–°åˆ›å»ºçš„æ–‡ä»¶ (ConnectionStrings.config)</p><p>  <strong>ä¾‹å­:</strong></p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">connectionStrings</span> <span class="attr">configSource</span>=<span class="string">"ConnectionStrings.config"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">connectionStrings</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>å³é”®æ–‡ä»¶é€‰æ‹©å±æ€§, è®¾ç½® <strong>Copy to Output Directory</strong> ä¸º <code>Copy if newer</code> æˆ–è€… <code>Copy always</code>.</p></li></ul><p><strong>åŒä»¥å‰è®¿é—®è¿æ¥å­—ç¬¦ä¸²æ–¹å¼ç›¸åŒ, å¯ç›´æ¥ä½¿ç”¨å¦‚ä¸‹ä»£ç è®¿é—®:</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> conn = ConfigurationManager.ConnectionStrings[<span class="string">"DefaultConnection"</span>];</span><br><span class="line"><span class="keyword">string</span> connString = conn.ConnectionString;</span><br><span class="line"><span class="comment">// Etc...</span></span><br></pre></td></tr></table></figure><p><span id="use-file-attr"></span></p><h2 id="ä½¿ç”¨-File-Attribute-æœ‰é€‰æ‹©çš„ç§»åŠ¨-Application-Settings-appSettings-æ ‡ç­¾ä¸‹çš„è®¾ç½®-åˆ°å¤–éƒ¨æ–‡ä»¶"><a href="#ä½¿ç”¨-File-Attribute-æœ‰é€‰æ‹©çš„ç§»åŠ¨-Application-Settings-appSettings-æ ‡ç­¾ä¸‹çš„è®¾ç½®-åˆ°å¤–éƒ¨æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨ File Attribute æœ‰é€‰æ‹©çš„ç§»åŠ¨ Application Settings (appSettings æ ‡ç­¾ä¸‹çš„è®¾ç½®) åˆ°å¤–éƒ¨æ–‡ä»¶"></a>ä½¿ç”¨ File Attribute æœ‰é€‰æ‹©çš„ç§»åŠ¨ Application Settings (appSettings æ ‡ç­¾ä¸‹çš„è®¾ç½®) åˆ°å¤–éƒ¨æ–‡ä»¶</h2><p>åœ¨ <code>&lt;appSettings&gt;</code> æ ‡ç­¾é‡Œå¯ä»¥é…ç½®è®¸å¤šå…¨å±€å€¼ä¾›é¡¹ç›®ä½¿ç”¨, ä½†æœ‰å¾ˆå¤šä¸éœ€è¦æäº¤åˆ°æºç æ§åˆ¶ä¸­ (å¦‚: é‚®ç®±å¯†ç é…ç½®).<br>è¿™ç§æƒ…å†µä¸‹, <code>&lt;appSettings&gt;</code> æ ‡ç­¾é‡Œæœ‰ä¸€ä¸ªç‰¹æ®Šçš„ <code>file</code> ç‰¹æ€§, å…è®¸å°†ä¸€äº›é…ç½®æ”¾åˆ°ç‹¬ç«‹çš„æ–‡ä»¶ä¸­.</p><ul><li><p>æ·»åŠ æ–°çš„æ–‡ä»¶ <em>PrivateSettings.config</em>, ä¹Ÿä¸å¸¦ XML å¤´, åªåŒ…å« <code>&lt;appSettings&gt;</code> æ ‡ç­¾å’Œå…¶é‡Œé¢çš„å†…å®¹</p><p>  <strong>PrivateSettings.configæ–‡ä»¶:</strong></p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">appSettings</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">"MAIL_PASSWORD"</span> <span class="attr">value</span>=<span class="string">"123456"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">appSettings</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>ç§»é™¤ Web.config ä¸­ <code>&lt;appSettings&gt;</code> æ ‡ç­¾é‡Œè¦å˜ä¸ºç§æœ‰çš„å†…å®¹, å¹¶ä¸”æ·»åŠ  <code>file</code> ç‰¹æ€§, å€¼ä¸º <em>PrivateSettings.config</em></p><p><strong>ä¿®æ”¹åçš„ Web.config æ–‡ä»¶:</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">appSettings</span> <span class="attr">file</span>=<span class="string">"PrivateSettings.config"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">"owin:AppStartup"</span> <span class="attr">value</span>=<span class="string">"AspNetIdentity2ExtendingApplicationUser.Startup,AspNetIdentity2ExtendingApplicationUser"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">"webpages:Version"</span> <span class="attr">value</span>=<span class="string">"3.0.0.0"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">"webpages:Enabled"</span> <span class="attr">value</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">"ClientValidationEnabled"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">"UnobtrusiveJavaScriptEnabled"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">appSettings</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>å³é”®æ–‡ä»¶é€‰æ‹©å±æ€§, è®¾ç½® <strong>Copy to Output Directory</strong> ä¸º <code>Copy if newer</code> æˆ–è€… <code>Copy always</code>.</p></li></ul><p><strong>åœ¨é¡¹ç›®ä¸­ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨å¦‚ä¸‹ä»£ç æ¥è®¿é—®:</strong><br>  <figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pwd = ConfigurationManager.AppSettings[<span class="string">"MAIL_PASSWORD"</span>];</span><br></pre></td></tr></table></figure></p><p><span id="add-ignore"></span></p><h2 id="åœ¨-gitignore-ä¸­æ·»åŠ ç‰¹æ®Šæ–‡ä»¶"><a href="#åœ¨-gitignore-ä¸­æ·»åŠ ç‰¹æ®Šæ–‡ä»¶" class="headerlink" title="åœ¨ .gitignore ä¸­æ·»åŠ ç‰¹æ®Šæ–‡ä»¶"></a>åœ¨ .gitignore ä¸­æ·»åŠ ç‰¹æ®Šæ–‡ä»¶</h2><p>Now we can add our Web.config file to source and commit, and add the two special files, ConnectionStrings.config and PrivateSettings.config to our .gitignore file, and commit away. When itâ€™s time to push to a shared repo, our private information will stay private.</p><p><span id="document-is-key"></span></p><h2 id="Documentation-is-Key"><a href="#Documentation-is-Key" class="headerlink" title="Documentation is Key"></a>Documentation is Key</h2><p>Of course, when we take this type of approach, it will be helpful to other developers if our documentation clearly indicates what is going on here. We might do this in our project README file, and/or add some XML comments at each point in our modified Web.config informing others that they will need to add the proper files to their local version of the project, and what those files should contain.</p>]]></content>
      
      
      
        <tags>
            
            <tag> ASP.NET MVC </tag>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼</title>
      <link href="/2016/12/07/event-based_asynchronous_pattern/"/>
      <url>/2016/12/07/event-based_asynchronous_pattern/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
        <tags>
            
            <tag> async </tag>
            
            <tag> .net </tag>
            
            <tag> event-based </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Asynchronous Programming Model (APM)</title>
      <link href="/2016/12/06/cs-asynchronous_programming_model/"/>
      <url>/2016/12/06/cs-asynchronous_programming_model/</url>
      
        <content type="html"><![CDATA[<p>ä¹Ÿç§°ä¸º IAsyncResult æ¨¡å¼, å¼‚æ­¥æ“ä½œéœ€è¦ä½¿ç”¨ Begin<em>OperationName</em> å’Œ End<em>OperationName</em> æ–¹æ³•. (ä¾‹å¦‚, FileStreamç±»æä¾›äº†BeginRead å’Œ EndRead (Readæ–¹æ³•çš„å¼‚æ­¥ç‰ˆæœ¬) æ–¹æ³•æ¥å¼‚æ­¥è¯»å–å­—èŠ‚).</p><blockquote><p>ä» .NET Framework 4.0 å¼€å§‹, ä»»åŠ¡å¹¶è¡Œåº“ä¸ºå¼‚æ­¥å’Œå¹¶è¡Œç¼–ç¨‹æä¾›äº†æ–°çš„æ¨¡å¼. è¯¦è§: <a href="https://msdn.microsoft.com/zh-cn/library/dd460717(v=vs.110).aspx" target="_blank" rel="noopener">Task Parallel Libary (TPL)</a> å’Œ <a href="https://msdn.microsoft.com/zh-cn/library/hh873175(v=vs.110).aspx" target="_blank" rel="noopener">Task-based Asynchronous Pattern (TAP)</a><br>å› æ­¤, ä¸å†å»ºè®®ä½¿ç”¨æ­¤ç§æ¨¡å¼.</p></blockquote><a id="more"></a><p>åœ¨è°ƒç”¨å®Œ <strong>Begin*</strong>OperationName* å, åº”ç”¨ç¨‹åºå¯ä»¥ç»§ç»­åœ¨è°ƒç”¨çº¿ç¨‹ä¸Šæ‰§è¡Œå…¶ä»–æ“ä½œ, åŒæ—¶å¼‚æ­¥æ“ä½œåœ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¸Šæ‰§è¡Œ. æ¯æ¬¡è°ƒç”¨ <strong>Begin*</strong>OperationName* æ—¶, åº”ç”¨ç¨‹åºè¿˜åº”è°ƒç”¨ <strong>End*</strong>OperationName* æ¥è·å–æ“ä½œçš„ç»“æœ.</p><h2 id="å¼€å§‹ä¸€ä¸ªå¼‚æ­¥æ“ä½œ"><a href="#å¼€å§‹ä¸€ä¸ªå¼‚æ­¥æ“ä½œ" class="headerlink" title="å¼€å§‹ä¸€ä¸ªå¼‚æ­¥æ“ä½œ"></a>å¼€å§‹ä¸€ä¸ªå¼‚æ­¥æ“ä½œ</h2><p><strong>Begin*</strong>OperationName* æ–¹æ³•å¼€å§‹å¼‚æ­¥æ“ä½œ <em>OperationName</em>, å¹¶è¿”å›å®ç° <a href="https://msdn.microsoft.com/zh-cn/library/system.iasyncresult(v=vs.110).aspx" target="_blank" rel="noopener">IAsyncResult</a> æ¥å£çš„å¯¹è±¡. <a href="https://msdn.microsoft.com/zh-cn/library/system.iasyncresult(v=vs.110).aspx" target="_blank" rel="noopener">IAsyncResult</a>å­˜å‚¨æœ‰å…³å¼‚æ­¥æ“ä½œä¿¡æ¯. å¼‚æ­¥æ“ä½œä¿¡æ¯å¦‚ä¸‹:</p><table><thead><tr><th>Member</th><th align="center">Description</th></tr></thead><tbody><tr><td><a href="https://msdn.microsoft.com/zh-cn/library/system.iasyncresult.asyncstate(v=vs.110).aspx" target="_blank" rel="noopener">AsyncState</a></td><td align="center">ä¸€ä¸ªç‰¹å®šäºåº”ç”¨ç¨‹åºçš„å¯é€‰å¯¹è±¡, å…¶ä¸­åŒ…å«æœ‰å…³å¼‚æ­¥æ“ä½œçš„ä¿¡æ¯</td></tr><tr><td><a href="https://msdn.microsoft.com/zh-cn/library/system.iasyncresult.asyncwaithandle(v=vs.110).aspx" target="_blank" rel="noopener">AsyncWaitHandle</a></td><td align="center">ä¸€ä¸ª <a href="https://msdn.microsoft.com/zh-cn/library/system.threading.waithandle(v=vs.110).aspx" target="_blank" rel="noopener">WaitHandle</a>, å¯ç”¨æ¥åœ¨å¼‚æ­¥æ“ä½œå®Œæˆä¹‹å‰é˜»æ­¢åº”ç”¨ç¨‹åºæ‰§è¡Œ</td></tr><tr><td><a href="https://msdn.microsoft.com/zh-cn/library/system.iasyncresult.completedsynchronously(v=vs.110).aspx" target="_blank" rel="noopener">CompletedSynchronously</a></td><td align="center">æŒ‡ç¤ºå¼‚æ­¥æ“ä½œæ˜¯å¦æ˜¯åœ¨ç”¨äºè°ƒç”¨ <strong>Begin*</strong>OperationName* çš„çº¿ç¨‹ä¸Šå®Œæˆ, è€Œä¸æ˜¯åœ¨å•ç‹¬çš„ ThreadPool çº¿ç¨‹ä¸Šå®Œæˆ</td></tr><tr><td><a href="https://msdn.microsoft.com/zh-cn/library/system.iasyncresult.iscompleted(v=vs.110).aspx" target="_blank" rel="noopener">IsCompleted</a></td><td align="center">æŒ‡ç¤ºå¼‚æ­¥æ“ä½œæ˜¯å¦å®Œæˆ</td></tr></tbody></table><p><strong>Begin*</strong>OperationName* æ–¹æ³•ä½¿ç”¨è¯¥æ–¹æ³•åŒæ­¥ç‰ˆæœ¬ç­¾åä¸­é€šè¿‡å€¼æˆ–å¼•ç”¨ä¼ é€’çš„ä»»ä½•å‚æ•°. å¹¶ä¸”ä¸åŒ…å«ä»»ä½•è¾“å‡ºå‚æ•°. <strong>Begin*</strong>OperationName* æ–¹æ³•ç­¾åè¿˜åŒ…å«ä¸¤ä¸ªé™„åŠ å‚æ•°. </p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°å®šä¹‰äº†ä¸€ä¸ª <a href="https://msdn.microsoft.com/zh-cn/library/system.asynccallback(v=vs.110).aspx" target="_blank" rel="noopener">AsyncCallback</a> å§”æ‰˜, å½“å¼‚æ­¥æ“ä½œå®Œæˆæ—¶è°ƒç”¨å§”æ‰˜æ‰€å¼•ç”¨çš„æ–¹æ³•. æ“ä½œå®Œæˆæ—¶, å¦‚æœä¸æƒ³è°ƒç”¨ä»»ä½•æ–¹æ³•, å¯ä»¥æŒ‡å®šä¸º null.</li><li>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”¨æˆ·è‡ªå®šä¹‰å¯¹è±¡, æ­¤å¯¹è±¡å¯ç”¨æ¥å‘å¼‚æ­¥æ“ä½œå®Œæˆæ—¶è°ƒç”¨çš„æ–¹æ³•ä¼ é€’åº”ç”¨ç¨‹åºç‰¹å®šçš„çŠ¶æ€ä¿¡æ¯.</li></ul><p>å¦‚æœ <strong>Begin*</strong>OperationName* æ–¹æ³•è¿˜é‡‡ç”¨å…¶ä»–ä¸€äº›æ“ä½œç‰¹å®šçš„å‚æ•° (ä¾‹å¦‚, ä¸€ä¸ªç”¨äºå­˜å‚¨ä»æ–‡ä»¶è¯»å–çš„å­—èŠ‚çš„å­—èŠ‚æ•°ç»„), åˆ™ <a href="https://msdn.microsoft.com/zh-cn/library/system.asynccallback(v=vs.110).aspx" target="_blank" rel="noopener">AsyncCallback</a> å’Œåº”ç”¨ç¨‹åºçŠ¶æ€å¯¹è±¡å°†æ˜¯ <strong>Begin*</strong>OperationName* æ–¹æ³•ç­¾åä¸­çš„æœ€åä¸¤ä¸ªå‚æ•°</p><p><strong>Begin*</strong>OperationName* ç«‹å³è¿”å›å¯¹è°ƒç”¨çº¿ç¨‹ (ä¸»çº¿ç¨‹) çš„æ§åˆ¶. å¦‚æœ <strong>Begin*</strong>OperationName* æ–¹æ³•æŠ›å‡ºå¼‚å¸¸, åˆ™ä¼šåœ¨å¼€å§‹å¼‚æ­¥æ“ä½œä¹‹å‰æŠ›å‡ºå¼‚å¸¸, å¹¶ä¸”ä¸ä¼šè°ƒç”¨å›è°ƒæ–¹æ³•.</p><h2 id="ç»“æŸå¼‚æ­¥æ“ä½œ"><a href="#ç»“æŸå¼‚æ­¥æ“ä½œ" class="headerlink" title="ç»“æŸå¼‚æ­¥æ“ä½œ"></a>ç»“æŸå¼‚æ­¥æ“ä½œ</h2><p><strong>End*</strong>OperationName* æ–¹æ³•å¯ç»“æŸå¼‚æ­¥æ“ä½œ <em>OperationName</em>. <strong>End*</strong>OperationName* æ–¹æ³•çš„è¿”å›å€¼ä¸å…¶åŒæ­¥å¯¹åº”æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ç›¸åŒ, å¹¶ä¸”æ˜¯ç‰¹å®šäºå¼‚æ­¥æ“ä½œçš„. ä¾‹å¦‚, EndRead æ–¹æ³•è¿”å›ä» <a href="https://msdn.microsoft.com/zh-cn/library/system.io.filestream(v=vs.110).aspx" target="_blank" rel="noopener">FileStream</a> è¯»å–çš„å­—èŠ‚æ•°, <a href="https://msdn.microsoft.com/zh-cn/library/system.net.dns.endgethostbyname(v=vs.110).aspx" target="_blank" rel="noopener">EndGetHostByName</a> æ–¹æ³•è¿”å›åŒ…å«æœ‰å…³ä¸»æœºçš„ä¿¡æ¯çš„ <a href="https://msdn.microsoft.com/zh-cn/library/system.net.iphostentry(v=vs.110).aspx" target="_blank" rel="noopener">IPHostEntry</a> å¯¹è±¡. <strong>End*</strong>OperationName* æ–¹æ³•é‡‡ç”¨è¯¥æ–¹æ³•åŒæ­¥ç‰ˆæœ¬çš„ç­¾åä¸­å£°æ˜çš„æ‰€æœ‰è¾“å‡ºå‚æ•°æˆ–å¼•ç”¨å‚æ•°. é™¤äº†æ¥è‡ªåŒæ­¥æ–¹æ³•çš„å‚æ•°å¤–, <strong>End*</strong>OperationName* æ–¹æ³•è¿˜åŒ…æ‹¬ <a href="https://msdn.microsoft.com/zh-cn/library/system.iasyncresult(v=vs.110).aspx" target="_blank" rel="noopener">IAsyncResult</a> å‚æ•°. è°ƒç”¨æ–¹å¿…é¡»å°†å¯¹åº”è°ƒç”¨è¿”å›çš„å®ä¾‹ä¼ é€’ç»™ BeginOperationName.<br>å¦‚æœè°ƒç”¨ <strong>End*</strong>OperationName* æ—¶ <a href="https://msdn.microsoft.com/zh-cn/library/system.iasyncresult(v=vs.110).aspx" target="_blank" rel="noopener">IAsyncResult</a> å¯¹è±¡è¡¨ç¤ºçš„å¼‚æ­¥æ“ä½œå°šæœªå®Œæˆ, åˆ™ <strong>End*</strong>OperationName* å°†åœ¨å¼‚æ­¥æ“ä½œå®Œæˆä¹‹å‰é˜»æ­¢è°ƒç”¨çº¿ç¨‹. å¼‚æ­¥æ“ä½œå¼•å‘çš„å¼‚å¸¸æ˜¯ä» <strong>End*</strong>OperationName* æ–¹æ³•å¼•å‘çš„. æœªå®šä¹‰å¤šæ¬¡ä½¿ç”¨åŒä¸€ <a href="https://msdn.microsoft.com/zh-cn/library/system.iasyncresult(v=vs.110).aspx" target="_blank" rel="noopener">IAsyncResult</a> è°ƒç”¨ <strong>End*</strong>OperationName* æ–¹æ³•çš„æ•ˆæœ. åŒæ ·, ä¹Ÿæœªå®šä¹‰ä½¿ç”¨ä¸æ˜¯ç›¸å…³ Begin æ–¹æ³•è¿”å›çš„ <a href="https://msdn.microsoft.com/zh-cn/library/system.iasyncresult(v=vs.110).aspx" target="_blank" rel="noopener">IAsyncResult</a> è°ƒç”¨ <strong>End*</strong>OperationName* æ–¹æ³•çš„æ•ˆæœ. </p><blockquote><p>å¯¹äºè¿™ä¸¤ç§æœªå®šä¹‰çš„æƒ…å†µ, å®æ–½è€…åº”è€ƒè™‘å¼•å‘ <a href="https://msdn.microsoft.com/zh-cn/library/system.invalidoperationexception(v=vs.110).aspx" target="_blank" rel="noopener">InvalidOperationException</a>. </p></blockquote><blockquote><p>æ­¤è®¾è®¡æ¨¡å¼çš„å®æ–½è€…åº”é€šçŸ¥è°ƒç”¨æ–¹å¼‚æ­¥æ“ä½œå·²é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®Œæˆ: å°† <a href="https://msdn.microsoft.com/zh-cn/library/system.iasyncresult.iscompleted(v=vs.110).aspx" target="_blank" rel="noopener">IsCompleted</a> è®¾ç½®ä¸º true, è°ƒç”¨å¼‚æ­¥å›è°ƒæ–¹æ³• ( å¦‚æœå·²æŒ‡å®šä¸€ä¸ªå›è°ƒæ–¹æ³• ), ç„¶åå‘é€ <a href="https://msdn.microsoft.com/zh-cn/library/system.iasyncresult.asyncwaithandle(v=vs.110).aspx" target="_blank" rel="noopener">AsyncWaitHandle</a> ä¿¡å·. </p></blockquote><p>å¯¹äºè®¿é—®å¼‚æ­¥æ“ä½œçš„ç»“æœ, åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜æœ‰è‹¥å¹²ç§è®¾è®¡é€‰æ‹©. æ­£ç¡®çš„é€‰æ‹©å–å†³äºåº”ç”¨ç¨‹åºæ˜¯å¦æœ‰å¯ä»¥åœ¨æ“ä½œå®Œæˆæ—¶æ‰§è¡Œçš„æŒ‡ä»¤. å¦‚æœåº”ç”¨ç¨‹åºåœ¨æ¥æ”¶åˆ°å¼‚æ­¥æ“ä½œç»“æœä¹‹å‰ä¸èƒ½è¿›è¡Œä»»ä½•å…¶ä»–å·¥ä½œ, åˆ™å¿…é¡»åœ¨è·å¾—è¿™äº›ç»“æœä¹‹å‰å…ˆé˜»æ­¢è¯¥åº”ç”¨ç¨‹åºè¿›è¡Œå…¶ä»–å·¥ä½œ. è‹¥è¦åœ¨å¼‚æ­¥æ“ä½œå®Œæˆä¹‹å‰é˜»æ­¢åº”ç”¨ç¨‹åº, å¯ä»¥ä½¿ç”¨ä¸‹åˆ—æ–¹æ³•ä¹‹ä¸€: </p><ul><li>ä»åº”ç”¨ç¨‹åºçš„ä¸»çº¿ç¨‹è°ƒç”¨ <strong>End*</strong>OperationName*, é˜»æ­¢åº”ç”¨ç¨‹åºæ‰§è¡Œ, ç›´åˆ°æ“ä½œå®Œæˆ. æœ‰å…³æ¼”ç¤ºæ­¤æ–¹æ³•çš„ç¤ºä¾‹, è¯·å‚é˜…<a href="https://msdn.microsoft.com/zh-cn/library/ms228967(v=vs.110).aspx" target="_blank" rel="noopener">Blocking Application Execution by Ending an Async Operation</a>. </li><li>ä½¿ç”¨ <a href="https://msdn.microsoft.com/zh-cn/library/system.iasyncresult.asyncwaithandle(v=vs.110).aspx" target="_blank" rel="noopener">AsyncWaitHandle</a> æ¥é˜»æ­¢åº”ç”¨ç¨‹åºæ‰§è¡Œ, ç›´åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªæ“ä½œå®Œæˆ. æœ‰å…³æ¼”ç¤ºæ­¤æ–¹æ³•çš„ç¤ºä¾‹, è¯·å‚é˜…<a href="https://msdn.microsoft.com/zh-cn/library/ms228962(v=vs.110).aspx" target="_blank" rel="noopener">Blocking Application Execution Using an AsyncWaitHandle</a>. </li></ul><p>åœ¨å¼‚æ­¥æ“ä½œå®Œæˆæ—¶ä¸éœ€è¦é˜»æ­¢çš„åº”ç”¨ç¨‹åºå¯ä½¿ç”¨ä¸‹åˆ—æ–¹æ³•ä¹‹ä¸€: </p><ul><li>æŒ‰ä»¥ä¸‹æ–¹å¼è½®è¯¢æ“ä½œå®ŒæˆçŠ¶æ€: å®šæœŸæ£€æŸ¥ <a href="https://msdn.microsoft.com/zh-cn/library/system.iasyncresult.iscompleted(v=vs.110).aspx" target="_blank" rel="noopener">IsCompleted</a> å±æ€§, å¹¶åœ¨æ“ä½œå®Œæˆåè°ƒç”¨ <strong>End*</strong>OperationName*. æœ‰å…³æ¼”ç¤ºæ­¤æ–¹æ³•çš„ç¤ºä¾‹, è¯·å‚é˜…<a href="https://msdn.microsoft.com/zh-cn/library/ms228968(v=vs.110).aspx" target="_blank" rel="noopener">Polling for the Status of an Asynchronous Operation</a>. </li><li>ä½¿ç”¨ <a href="https://msdn.microsoft.com/zh-cn/library/system.asynccallback(v=vs.110).aspx" target="_blank" rel="noopener">AsyncCallback</a> å§”æ‰˜æ¥æŒ‡å®šè¦åœ¨æ“ä½œå®Œæˆæ—¶è°ƒç”¨çš„æ–¹æ³•. æœ‰å…³æ¼”ç¤ºæ­¤æ–¹æ³•çš„ç¤ºä¾‹, è¯·å‚é˜…<a href="https://msdn.microsoft.com/zh-cn/library/ms228972(v=vs.110).aspx" target="_blank" rel="noopener">Using an AsyncCallback Delegate to End an Asynchronous Operation</a>. </li></ul>]]></content>
      
      
      <categories>
          
          <category> dotnet </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IAsyncResult </tag>
            
            <tag> async </tag>
            
            <tag> .net </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼</title>
      <link href="/2016/12/05/cs-asynchronous_program_in_dotnet/"/>
      <url>/2016/12/05/cs-asynchronous_program_in_dotnet/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸‰ç§å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼"><a href="#ä¸‰ç§å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼" class="headerlink" title="ä¸‰ç§å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼"></a>ä¸‰ç§å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼</h2><p>.NET Framework æä¾›äº†ä¸‰ç§å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼:</p><ul><li>APM (Asynchronous Programming Model): å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹</li><li>EAP (Event-based Asynchronous Pattern): åŸºäºäº‹ä»¶çš„å¼‚æ­¥æ¨¡å¼</li><li>TAP (Tasks-based Asynchronous Pattern): åŸºäºä»»åŠ¡çš„å¼‚æ­¥æ¨¡å¼</li></ul><a id="more"></a><h3 id="å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼-APM"><a href="#å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼-APM" class="headerlink" title="å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼ ( APM )"></a>å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼ ( APM )</h3><p>ä¹Ÿç§°ä¸º IAsyncResult æ¨¡å¼, å¼‚æ­¥æ“ä½œéœ€è¦ä½¿ç”¨ Begin<em>OperationName</em> å’Œ End<em>OperationName</em> æ–¹æ³•. (ä¾‹å¦‚, FileStreamç±»æä¾›äº†BeginRead å’Œ EndRead (Readæ–¹æ³•çš„å¼‚æ­¥ç‰ˆæœ¬) æ–¹æ³•æ¥å¼‚æ­¥è¯»å–å­—èŠ‚).</p><blockquote><p>ä» .NET Framework 4.0 å¼€å§‹, ä»»åŠ¡å¹¶è¡Œåº“ä¸ºå¼‚æ­¥å’Œå¹¶è¡Œç¼–ç¨‹æä¾›äº†æ–°çš„æ¨¡å¼, å› æ­¤ä¸å†å»ºè®®ä½¿ç”¨æ­¤ç§æ¨¡å¼. è¯¦è§: <a href="https://msdn.microsoft.com/zh-cn/library/dd460717(v=vs.110).aspx" target="_blank" rel="noopener">Task Parallel Libary (TPL)</a> å’Œ <a href="https://msdn.microsoft.com/zh-cn/library/hh873175(v=vs.110).aspx" target="_blank" rel="noopener">Task-based Asynchronous Pattern (TAP)</a> ä»¥åŠ <a href="https://msdn.microsoft.com/zh-cn/library/ms228963(v=vs.110).aspx" target="_blank" rel="noopener">Asynchronous Programming Model (APM)</a></p></blockquote><h3 id="åŸºäºäº‹ä»¶å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼-EAP"><a href="#åŸºäºäº‹ä»¶å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼-EAP" class="headerlink" title="åŸºäºäº‹ä»¶å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼ ( EAP )"></a>åŸºäºäº‹ä»¶å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼ ( EAP )</h3><p>è¿™ç§æ¨¡å¼éœ€è¦ Async åç¼€, ä¹Ÿéœ€è¦ä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶ã€äº‹ä»¶å¤„ç†ç¨‹åºå§”æ‰˜ç±»å‹å’Œ <strong>EventArg</strong> æ´¾ç”Ÿç±»å‹. EAP æ˜¯åœ¨ .NET Framework 2.0 ä¸­å¼•å…¥çš„. å¯¹äºæ–°çš„å¼€å‘å·¥ä½œä¸å†å»ºè®®é‡‡ç”¨æ­¤æ¨¡å¼. æœ‰å…³è¯¦ç»†ä¿¡æ¯, è¯·å‚é˜…<a href="https://msdn.microsoft.com/zh-cn/library/ms228969(v=vs.110).aspx" target="_blank" rel="noopener">Event-based Asynchronous Pattern (EAP)</a>. </p><h3 id="åŸºäºä»»åŠ¡å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼-TAP"><a href="#åŸºäºä»»åŠ¡å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼-TAP" class="headerlink" title="åŸºäºä»»åŠ¡å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼ ( TAP )"></a>åŸºäºä»»åŠ¡å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼ ( TAP )</h3><p>ä½¿ç”¨ä¸€ç§æ–¹æ³•æ¥è¡¨ç¤ºå¼‚æ­¥æ“ä½œçš„å¯åŠ¨å’Œå®Œæˆ<br>TAP æ˜¯åœ¨ .NET Framework 4 ä¸­å¼•å…¥çš„, å¹¶ä¸”å®ƒæ˜¯åœ¨ .NET Framework ä¸­è¿›è¡Œå¼‚æ­¥ç¼–ç¨‹çš„æ¨èä½¿ç”¨æ–¹æ³•. C# ä¸­çš„ <a href="https://msdn.microsoft.com/zh-cn/library/hh156513(v=vs.110).aspx" target="_blank" rel="noopener">async</a> å’Œ <a href="https://msdn.microsoft.com/zh-cn/library/hh156528(v=vs.110).aspx" target="_blank" rel="noopener">await</a> å…³é”®è¯ä¸º TAP æ·»åŠ äº†è¯­è¨€æ”¯æŒ. æœ‰å…³è¯¦ç»†ä¿¡æ¯, è¯·å‚é˜…<a href="https://msdn.microsoft.com/zh-cn/library/hh873175(v=vs.110).aspx" target="_blank" rel="noopener">Task-based Asynchronous Pattern (TAP)</a>. </p><h2 id="æ¯”è¾ƒä¸‰ç§å¼‚æ­¥æ¨¡å¼"><a href="#æ¯”è¾ƒä¸‰ç§å¼‚æ­¥æ¨¡å¼" class="headerlink" title="æ¯”è¾ƒä¸‰ç§å¼‚æ­¥æ¨¡å¼"></a>æ¯”è¾ƒä¸‰ç§å¼‚æ­¥æ¨¡å¼</h2><p>ä¸ºäº†å¿«é€Ÿæ¯”è¾ƒè¿™ä¸‰ç§æ¨¡å¼çš„å¼‚æ­¥æ“ä½œæ–¹å¼ï¼Œä½¿ç”¨ä»æŒ‡å®šåç§»é‡å¤„èµ·å°†æŒ‡å®šé‡æ•°æ®è¯»å–åˆ°æä¾›çš„ç¼“å†²åŒºä¸­çš„ <strong>Read</strong> æ–¹æ³•: </p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">Read</span>(<span class="params"><span class="keyword">byte</span> [] buffer, <span class="keyword">int</span> offset, <span class="keyword">int</span> count</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>æ­¤æ–¹æ³•å¯¹åº”çš„ APM å°†å…¬å¼€ BeginRead å’Œ EndRead æ–¹æ³•:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> IAsyncResult <span class="title">BeginRead</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">byte</span> [] buffer, <span class="keyword">int</span> offset, <span class="keyword">int</span> count, </span></span></span><br><span class="line"><span class="function"><span class="params">        AsyncCallback callback, <span class="keyword">object</span> state</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">EndRead</span>(<span class="params">IAsyncResult asyncResult</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¯¹åº”çš„ EAP å°†å…¬å¼€ä»¥ä¸‹ç±»å‹å’Œæˆå‘˜çš„é›†</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ReadAsync</span>(<span class="params"><span class="keyword">byte</span> [] buffer, <span class="keyword">int</span> offset, <span class="keyword">int</span> count</span>)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> ReadCompletedEventHandler ReadCompleted;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¯¹åº”çš„ TAP å°†å…¬å¼€ä»¥ä¸‹å•ä¸ª ReadAsync æ–¹æ³•</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;<span class="keyword">int</span>&gt; <span class="title">ReadAsync</span>(<span class="params"><span class="keyword">byte</span> [] buffer, <span class="keyword">int</span> offset, <span class="keyword">int</span> count</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="ç›¸å…³è¿æ¥"><a href="#ç›¸å…³è¿æ¥" class="headerlink" title="ç›¸å…³è¿æ¥"></a>ç›¸å…³è¿æ¥</h2><table><thead><tr><th>æ ‡é¢˜</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td><a href="https://msdn.microsoft.com/zh-cn/library/ms228963(v=vs.110).aspx" target="_blank" rel="noopener">Asynchronous Programming Model (APM)</a></td><td align="center">æè¿°ä½¿ç”¨ <a href="https://msdn.microsoft.com/zh-cn/library/system.iasyncresult(v=vs.110).aspx" target="_blank" rel="noopener">IAsyncResult</a> æ¥å£æä¾›å¼‚æ­¥è¡Œä¸ºçš„æ—§æ¨¡å‹ã€‚ å¯¹äºæ–°çš„å¼€å‘å·¥ä½œä¸å†å»ºè®®é‡‡ç”¨æ­¤æ¨¡å‹</td></tr><tr><td><a href="https://msdn.microsoft.com/zh-cn/library/ms228969(v=vs.110).aspx" target="_blank" rel="noopener">Event-based Asynchronous Pattern (EAP)</a></td><td align="center">æè¿°æä¾›å¼‚æ­¥è¡Œä¸ºçš„åŸºäºäº‹ä»¶çš„æ—§æ¨¡å‹ã€‚ å¯¹äºæ–°çš„å¼€å‘å·¥ä½œä¸å†å»ºè®®é‡‡ç”¨æ­¤æ¨¡å‹</td></tr><tr><td><a href="https://msdn.microsoft.com/zh-cn/library/hh873175(v=vs.110).aspx" target="_blank" rel="noopener">Task-based Asynchronous Pattern (TAP)</a></td><td align="center">æè¿°åŸºäº <a href="https://msdn.microsoft.com/zh-cn/library/system.threading.tasks(v=vs.110).aspx" target="_blank" rel="noopener">System.Threading.Tasks</a> å‘½åç©ºé—´çš„æ–°å¼‚æ­¥æ¨¡å¼ã€‚ æ­¤æ¨¡å‹æ˜¯åœ¨ .NET Framework 4 åŠæ›´é«˜ç‰ˆæœ¬ä¸­è¿›è¡Œå¼‚æ­¥ç¼–ç¨‹çš„æ¨èä½¿ç”¨æ–¹æ³•</td></tr></tbody></table><h2 id="æ¶‰åŠçš„å¤šçº¿ç¨‹æ¦‚å¿µ"><a href="#æ¶‰åŠçš„å¤šçº¿ç¨‹æ¦‚å¿µ" class="headerlink" title="æ¶‰åŠçš„å¤šçº¿ç¨‹æ¦‚å¿µ"></a>æ¶‰åŠçš„å¤šçº¿ç¨‹æ¦‚å¿µ</h2><ul><li>é”</li><li>æ­»é”</li><li>å¾ç”¨æ¡ä»¶</li></ul>]]></content>
      
      
      <categories>
          
          <category> dotnet </category>
          
      </categories>
      
      
        <tags>
            
            <tag> async </tag>
            
            <tag> .net </tag>
            
            <tag> await </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>app.Use vs app.Run in ASP.NET Core middleware</title>
      <link href="/2016/12/02/cs-app.Use-vs-app.Run/"/>
      <url>/2016/12/02/cs-app.Use-vs-app.Run/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åŸæ–‡é“¾æ¥: <a href="http://www.talkingdotnet.com/app-use-vs-app-run-asp-net-core-middleware/" target="_blank" rel="noopener">app.Use vs app.Run in ASP.NET Core middleware</a></p></blockquote><p><strong>app.Run</strong> å’Œ <strong>app.Use</strong> éƒ½åº”ç”¨äºä¸­é—´ä»¶, åˆ°åº•æœ‰ä»€ä¹ˆä¸åŒè¿‡å‘¢?</p><h2 id="00-00-ä¸åŒä¹‹å¤„"><a href="#00-00-ä¸åŒä¹‹å¤„" class="headerlink" title="00.00 ä¸åŒä¹‹å¤„"></a>00.00 ä¸åŒä¹‹å¤„</h2><p>åœ¨ ASP.NET Core ä¸­, ä¸­é—´ä»¶æ˜¯æŒ‰ç…§æ·»åŠ é¡ºåºæ‰§è¡Œçš„. ä½¿ç”¨ <strong>app.Use</strong> å®šä¹‰çš„ä¸­é—´ä»¶å¯èƒ½ä¼šè°ƒç”¨ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ç»„ä»¶.<br>è€Œä½¿ç”¨ <strong>app.Run</strong> å®šä¹‰çš„ä¸­é—´ä»¶, æ°¸è¿œä¸ä¼šè°ƒç”¨åç»­çš„ä¸­é—´ä»¶</p><h2 id="00-01-ä»ä»£ç çœ‹"><a href="#00-01-ä»ä»£ç çœ‹" class="headerlink" title="00.01 ä»ä»£ç çœ‹"></a>00.01 ä»ä»£ç çœ‹</h2><p>åˆ›å»ºä¸€ä¸ªæ–°çš„ ASP.NET Core 1.0 Mvc åº”ç”¨, å¹¶å°† Startup ç±»ä¸­ Configure æ–¹æ³•çš„å†…å®¹æ”¹ä¸ºå¦‚ä¸‹.</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Configure</span>(<span class="params">IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    app.Use(<span class="keyword">async</span> (context, next) =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">await</span> context.Response.WriteAsync(<span class="string">"&lt;html&gt;&lt;body&gt;"</span>);</span><br><span class="line">        <span class="keyword">await</span> context.Response.WriteAsync(<span class="string">"&lt;div&gt;Inside middleware defined using app.Use&lt;/div&gt;"</span>);</span><br><span class="line">        <span class="keyword">await</span> next();</span><br><span class="line">        <span class="keyword">await</span> context.Response.WriteAsync(<span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    app.Run(<span class="keyword">async</span> context =&gt; &#123; </span><br><span class="line">       <span class="keyword">await</span> context.Response.WriteAsync(<span class="string">"&lt;div&gt;Inside middleware defined using app.Run&lt;/div&gt;"</span>); </span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    app.Use(<span class="keyword">async</span> (context, next) =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">await</span> context.Response.WriteAsync(<span class="string">"&lt;html&gt;&lt;body&gt;"</span>);</span><br><span class="line">        <span class="keyword">await</span> context.Response.WriteAsync(<span class="string">"&lt;div&gt;Another Middleware defined using app.Use&lt;/div&gt;"</span>);</span><br><span class="line">        <span class="keyword">await</span> next();</span><br><span class="line">        <span class="keyword">await</span> context.Response.WriteAsync(<span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    app.UseIISPlatformHandler(options =&gt; options.AuthenticationDescriptions.Clear());</span><br><span class="line">    app.UseStaticFiles();</span><br><span class="line">    app.UseIdentity();</span><br><span class="line">    app.UseMvc(routes =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        routes.MapRoute(</span><br><span class="line">            name: <span class="string">"default"</span>,</span><br><span class="line">            template: <span class="string">"&#123;controller=Home&#125;/&#123;action=Index&#125;/&#123;id?&#125;"</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šç¤ºä¾‹ä½¿ç”¨ <strong>app.Use</strong> å®šä¹‰äº† 2 ä¸ªå†…è”ä¸­é—´ä»¶ï¼Œä½¿ç”¨ <strong>app.Run</strong> å®šä¹‰äº† 1 ä¸ªå†…è”ä¸­é—´ä»¶. </p><p>ä½¿ç”¨ <strong>app.Use</strong> å®šä¹‰çš„ç¬¬ä¸€ä¸ªä¸­é—´ä»¶å°†å¼‚æ­¥å†™å…¥å“åº”å¯¹è±¡çš„HTML, è°ƒç”¨ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ï¼Œå†æ¬¡å†™å…¥å…³é—­HTML. è€Œä½¿ç”¨ <strong>app.Run</strong> å®šä¹‰çš„ä¸­é—´ä»¶å†™å…¥æ¶ˆæ¯ï¼Œç„¶åè¿”å›.</p><p>åœ¨ <strong>app.Run</strong> ä¸­é—´ä»¶ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨ <strong>app.Use</strong> å®šä¹‰äº†å¦ä¸€ä¸ªå†…è”ä¸­é—´ä»¶ï¼Œå¹¶ä¸”è¿˜ä½¿ç”¨äº†ä¸€äº›å†…ç½®çš„ä¸­é—´ä»¶</p><h2 id="00-02-è¿è¡Œç»“æœ"><a href="#00-02-è¿è¡Œç»“æœ" class="headerlink" title="00.02 è¿è¡Œç»“æœ"></a>00.02 è¿è¡Œç»“æœ</h2><p>è¿è¡Œåº”ç”¨ç¨‹åºæ—¶çš„è¾“å‡ºç»“æœ:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Inside middleware defined using app.Use</span><br><span class="line">Inside middleware defined using app.Run</span><br></pre></td></tr></table></figure><p>å¦‚ä¹‹å‰æè¿°, å®šä¹‰åœ¨ <strong>app.Run</strong> ä¹‹åçš„ä¸­é—´ä»¶ä¸ä¼šè¢«æ‰§è¡Œ. è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç¬¬äºŒä¸ªä½¿ç”¨ <strong>app.Use</strong> å®šä¹‰çš„ä¸­é—´ä»¶æ²¡æœ‰å“åº”çš„åŸå› .</p>]]></content>
      
      
      <categories>
          
          <category> dotnet </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>C# è¯­æ³•ç³–</title>
      <link href="/2016/12/02/cs-csharp-syntax/"/>
      <url>/2016/12/02/cs-csharp-syntax/</url>
      
        <content type="html"><![CDATA[<h2 id="è¯­æ³•ç³–"><a href="#è¯­æ³•ç³–" class="headerlink" title="è¯­æ³•ç³–"></a>è¯­æ³•ç³–</h2><table><thead><tr><th>ç¬¦å·</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td><strong>??</strong></td><td align="center">éç©ºå–å‰è€…å€¼, ç©ºå–åè€…å€¼</td></tr><tr><td><strong>?.</strong></td><td align="center"></td></tr></tbody></table><h3 id="0-0-ç¤ºä¾‹"><a href="#0-0-ç¤ºä¾‹" class="headerlink" title="0.0 ç¤ºä¾‹ ??"></a>0.0 ç¤ºä¾‹ <strong>??</strong></h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = GetValue() ?? <span class="string">"test"</span>;</span><br></pre></td></tr></table></figure><p>ç›¸å½“äº</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = GetValue();</span><br><span class="line"><span class="keyword">if</span>(str == <span class="literal">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">    str = <span class="string">"test"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="0-1-ç¤ºä¾‹"><a href="#0-1-ç¤ºä¾‹" class="headerlink" title="0.1 ç¤ºä¾‹ ?."></a>0.1 ç¤ºä¾‹ <strong>?.</strong></h3>]]></content>
      
      
      <categories>
          
          <category> dotnet </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Yarn åŸºæœ¬ä½¿ç”¨</title>
      <link href="/2016/12/02/yarn_basic_use/"/>
      <url>/2016/12/02/yarn_basic_use/</url>
      
        <content type="html"><![CDATA[<blockquote><p>Yarn å®˜ç½‘: <a href="https://yarnpkg.com" target="_blank" rel="noopener">https://yarnpkg.com</a></p></blockquote><h2 id="Yarn-ç®€ä»‹"><a href="#Yarn-ç®€ä»‹" class="headerlink" title="Yarn ç®€ä»‹"></a>Yarn ç®€ä»‹</h2><p>Yarn å¯ä»¥ä½œä¸ºç±»ä¼¼ npm çš„åŒ…ç®¡ç†å·¥å…·, ç›¸æ¯” npm é€Ÿåº¦æ›´å¿«</p><a id="more"></a><h3 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a><strong>åˆå§‹åŒ–</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn init</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä¸€äº›åŸºæœ¬å‚æ•°å, ä¼šåœ¨ç›®å½•ä¸‹ç”Ÿæˆ project.json æ–‡ä»¶</p><h3 id="æ·»åŠ ä¾èµ–é¡¹"><a href="#æ·»åŠ ä¾èµ–é¡¹" class="headerlink" title="æ·»åŠ ä¾èµ–é¡¹"></a><strong>æ·»åŠ ä¾èµ–é¡¹</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn add [package]</span><br><span class="line">yarn add [package]@[version]</span><br><span class="line">yarn add [package]@[tag]</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä½¿ç”¨å¼€æºé¡¹ç›®çš„åœ°å€, å¦‚ jquery-confirm</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add https://github.com/craftpip/jquery-confirm.git</span><br></pre></td></tr></table></figure><h3 id="å‡çº§ä¾èµ–é¡¹"><a href="#å‡çº§ä¾èµ–é¡¹" class="headerlink" title="å‡çº§ä¾èµ–é¡¹"></a><strong>å‡çº§ä¾èµ–é¡¹</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn upgrade [package]</span><br><span class="line">yarn upgrade [package]@[version]</span><br><span class="line">yarn upgrade [package]@[tag]</span><br></pre></td></tr></table></figure><h3 id="ç§»é™¤ä¾èµ–é¡¹"><a href="#ç§»é™¤ä¾èµ–é¡¹" class="headerlink" title="ç§»é™¤ä¾èµ–é¡¹"></a><strong>ç§»é™¤ä¾èµ–é¡¹</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn remove [package]</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…æ‰€æœ‰ä¾èµ–é¡¹"><a href="#å®‰è£…æ‰€æœ‰ä¾èµ–é¡¹" class="headerlink" title="å®‰è£…æ‰€æœ‰ä¾èµ–é¡¹"></a><strong>å®‰è£…æ‰€æœ‰ä¾èµ–é¡¹</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn install</span><br></pre></td></tr></table></figure><blockquote><p>æ›´å¤š CLI Introduction: <a href="https://yarnpkg.com/en/docs/cli/" target="_blank" rel="noopener">https://yarnpkg.com/en/docs/cli/</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> node </tag>
            
            <tag> yarn </tag>
            
            <tag> usage </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³é”®å­— readonly å’Œ const</title>
      <link href="/2016/11/29/cs-readonly_const/"/>
      <url>/2016/11/29/cs-readonly_const/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨ readonly ä¿®é¥°ä¸€ä¸ªå±æ€§æ—¶, åªèƒ½åœ¨æ­¤ç±»ä¸­å£°æ˜æ—¶æˆ–è€…æ„é€ å‡½æ•°ä½“é‡Œä¸ºå…¶èµ‹å€¼</p><blockquote><p>readonly å…³é”®å­—å’Œ const ä¸åŒ. ä¸€ä¸ª const å±æ€§åªèƒ½åœ¨å£°æ˜çš„æ—¶å€™åˆå§‹åŒ–. è€Œ readonly è¿˜å¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> dotnet </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C# </tag>
            
            <tag> readonly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Areasåˆ†ç¦»ASP.NET MVCé¡¹ç›®</title>
      <link href="/2016/11/29/cs-use_area_in_mvc/"/>
      <url>/2016/11/29/cs-use_area_in_mvc/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åŸæ–‡åœ°å€: <a href="http://www.cnblogs.com/dingji/archive/2012/05/30/2506420.html" target="_blank" rel="noopener">http://www.cnblogs.com/dingji/archive/2012/05/30/2506420.html</a></p></blockquote><h2 id="ä½¿ç”¨Areasåˆ†ç¦»ASP-NET-MVCé¡¹ç›®"><a href="#ä½¿ç”¨Areasåˆ†ç¦»ASP-NET-MVCé¡¹ç›®" class="headerlink" title="ä½¿ç”¨Areasåˆ†ç¦»ASP.NET MVCé¡¹ç›®"></a>ä½¿ç”¨Areasåˆ†ç¦»ASP.NET MVCé¡¹ç›®</h2><p>éšç€é¡¹ç›®è§„æ¨¡çš„ä¸æ–­æ‰©å¤§, Controller æ§åˆ¶å™¨ä¹Ÿéšä¹‹ä¸æ–­å¢å¤š. å¦‚æœåœ¨ Controllers æ–‡ä»¶å¤¹ä¸‹é¢æœ‰è¶…è¿‡ä¸¤ä½æ•°, å³ä¾¿é‡‡ç”¨è‰¯å¥½çš„å‘½åè§„èŒƒ, æˆ–è€…ç”¨å­æ–‡ä»¶å¤¹çš„å½¢å¼åŒºåˆ†ä¸åŒåŠŸèƒ½çš„æ§åˆ¶å™¨, è¿˜æ˜¯ä¼šå½±å“é¡¹ç›®çš„å¯é˜…è¯»æ€§å’Œå¯ç»´æŠ¤æ€§. å› æ­¤, åœ¨ä¸€äº›åœºæ™¯ä¸‹, å¦‚æœèƒ½æŠŠä¸æŸåŠŸèƒ½ç›¸å…³çš„æ–‡ä»¶åˆ†ç¦»åˆ°ä¸€ä¸ªç‹¬ç«‹çš„é¡¹ç›®ä¸­æ˜¯éå¸¸æœ‰ç”¨çš„. Asp.Net MVC æä¾›äº† Areas(åŒºåŸŸ) çš„æ¦‚å¿µè¾¾åˆ°è¿™ä¸€ç›®çš„.</p><a id="more"></a><h3 id="1-æ–°å»º-Areas"><a href="#1-æ–°å»º-Areas" class="headerlink" title="1. æ–°å»º Areas"></a><strong>1. æ–°å»º Areas</strong></h3><p>åœ¨ MVC é¡¹ç›®ä¸Šå³é”®æ–°å»º Areas, è¾“å…¥åå­—, å¦‚: Admin</p><p><img src="/assets/161129_usearea_01.png" alt></p><p>åœ¨Areas/Admin/Controllersæ–‡ä»¶å¤¹ä¸‹é¢æ–°å»ºHomeControllerå¹¶æ·»åŠ ä¸€ä¸ªIndexçš„æ–¹æ³•å’Œå¯¹åº”çš„Viewæ–‡ä»¶. è¿™é‡Œå¯ä»¥å‘ç°Areasçš„å¦ä¸€ä¸ªå¥½å¤„ï¼šä½ å¯ä»¥åœ¨ä¸åŒAreasä¸‹é¢æ·»åŠ ç›¸åŒåç§°çš„Controller. å½“ç„¶, å¦‚æœä½ ç›´æ¥è¿™ä¹ˆè¿è¡Œä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ï¼š</p><p><img src="/assets/161129_error_02.png" alt></p><blockquote><p>è¿™ç§æƒ…å†µéœ€è¦ä¿®æ”¹ä¸€ä¸‹AdminAreaRegistration.cså’ŒGlobal.asax, åˆ†åˆ«ä¸ºè·¯ç”±åŠ ä¸Šå‘½åç©ºé—´é™åˆ¶ï¼š</p></blockquote><p><strong>/Areas/Admin/AdminAreaRegistration.cs</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">context.MapRoute(</span><br><span class="line">     &quot;Admin_default&quot;,</span><br><span class="line">     &quot;Admin/&#123;controller&#125;/&#123;action&#125;/&#123;id&#125;&quot;,</span><br><span class="line">     new &#123; action = &quot;Index&quot;, id = UrlParameter.Optional &#125;,</span><br><span class="line">     new string[] &#123; &quot;[é¡¹ç›®åç§°].Areas.Admin.Controllers&quot; &#125;</span><br><span class="line"> );</span><br></pre></td></tr></table></figure><p><strong>/Global.asax.cs æˆ–è€… RouteConfig.cs</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">routes.MapRoute(    //Default Route</span><br><span class="line">     &quot;Default&quot;, // Route name</span><br><span class="line">     &quot;&#123;controller&#125;/&#123;action&#125;/&#123;id&#125;&quot;, // URL with parameters</span><br><span class="line">     new &#123; controller = &quot;Home&quot;, action = &quot;Index&quot;, id = UrlParameter.Optional &#125;, // Parameter defaults</span><br><span class="line">     new string[] &#123; &quot;[é¡¹ç›®åç§°].Controllers&quot; &#125;</span><br><span class="line"> );</span><br></pre></td></tr></table></figure><h3 id="2-æ”¹è¿›"><a href="#2-æ”¹è¿›" class="headerlink" title="2. æ”¹è¿›"></a><strong>2. æ”¹è¿›</strong></h3><p>æˆ‘ä»¬éœ€è¦å¯¹ç°æœ‰é¡¹ç›®è¿›è¡Œä¸€ä¸‹æ”¹é€ ï¼š</p><ol><li><p>åœ¨è§£å†³æ–¹æ¡ˆä¸Šé¢æ–°å»ºä¸€ä¸ªMyMvcAreasDemo.Adminçš„MVC3é¡¹ç›®, å¹¶ä¸”åˆ é™¤Global.asaxå’ŒWeb.configä¸¤ä¸ªæ–‡ä»¶</p></li><li><p>åœ¨æ ¹ç›®å½•æ–°å»ºä¸€ä¸ªAdminAreaRegistrationçš„ç±», è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public class AdminAreaRegistration : AreaRegistration</span><br><span class="line">&#123;</span><br><span class="line">    public override string AreaName</span><br><span class="line">    &#123;</span><br><span class="line">        get</span><br><span class="line">        &#123;</span><br><span class="line">            return &quot;Admin&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    public override void RegisterArea(AreaRegistrationContext context)</span><br><span class="line">    &#123;</span><br><span class="line">        context.MapRoute(</span><br><span class="line">            &quot;Admin_default&quot;,</span><br><span class="line">            &quot;Admin/&#123;controller&#125;/&#123;action&#125;/&#123;id&#125;&quot;,</span><br><span class="line">            new &#123; action = &quot;Index&quot;, id = UrlParameter.Optional &#125;               </span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li><p>åˆ é™¤MyMvcAreasDemoé¡¹ç›®/Areas/Adminæ–‡ä»¶å¤¹ä¸‹é¢çš„AdminAreaRegistration.csæ–‡ä»¶ä»¥åŠControllersæ–‡ä»¶å¤¹ï¼ˆåŒ…æ‹¬HomeControllerï¼‰</p></li><li><p>åœ¨MyMvcAreasDemo.Adminé¡¹ç›®çš„Controllersé‡Œé¢æ–°å»ºä¸€ä¸ªHomeController</p></li><li><p>è®°å¾—ä¿ç•™MyMvcAreasDemo/Areas/Adminä¸‹é¢çš„Views, å¹¶ä¸”åœ¨MyMvcAreasDemoé¡¹ç›®é‡Œé¢å¼•ç”¨MyMvcAreasDemo.Adminé¡¹ç›®, å¦‚å›¾ï¼š</p></li></ol><p><img src="/assets/161129_update_03.png" alt></p><p>ç°åœ¨è¿è¡Œç¨‹åºå¹¶è®¿é—®/Admin/Home/Indexå¯ä»¥å‘ç°Adminé¡¹ç›®ç”Ÿæ•ˆäº†. è¿™æ ·, æˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰çš„ä¸åå°ç®¡ç†ç›¸å…³çš„Controlleréƒ½æ”¾åˆ°è¿™ä¸ªæ–°çš„é¡¹ç›®ä¸­æ¥. ä½†æ˜¯å¾ˆå¿«ä½ ä¼šå‘ç°, ä¸€ä¸ªæ–°çš„â€œé—®é¢˜â€åˆå‡ºç°äº†ï¼š</p><p>å½“ä½ åœ¨MyMvcAreasDemo.Adminé‡Œé¢çš„HomeControlleræ·»åŠ æ–°çš„Actionï¼ˆä¾‹å¦‚Listï¼‰, ç„¶åä¹ æƒ¯æ€§åœ¨ä¸Šé¢å³é”®-â€œAdd Viewâ€å, ä½ ä¼šå‘ç°æ–°å¢çš„List.cshtmlæ–‡ä»¶ä¼šå‡ºç°åœ¨MyMvcAreasDemo.Admin/Views/Homeä¸‹é¢, ç„¶åå½“ä½ è®¿é—®/Admin/Home/Listçš„æ—¶å€™æµè§ˆå™¨ä¼šå¾—åˆ°é”™è¯¯æç¤ºï¼šâ€The view â€˜Listâ€™ or its master was not found or no view engine supports the searched locationsâ€¦â€. åŸæ¥å®ƒåªä¼šåœ¨ä¸»ç¨‹åºMyMvcAreasDemoä¸­çš„å¯¹åº”ç›®å½•å»å¯»æ‰¾View. è¿™ä¹ˆä¸€æ¥, MVCæ¡†æ¶æä¾›ç»™æˆ‘ä»¬çš„è„šæ‰‹æ¶åŠŸèƒ½å°±å¤§æ‰“æŠ˜æ‰£, å½“ç„¶ä½ å¯ä»¥æ‰‹åŠ¨åœ¨MyMvcAreasDemo/Areas/Admin/Viewsä¸­å¯¹åº”æ·»åŠ View, æˆ–è€…åœ¨MyMvcAreasDemo.Adminé¡¹ç›®ä¸­è‡ªåŠ¨ç”Ÿæˆäº†Viewä¹‹åå†æ‹·è´è¿‡å». æœ‰æ²¡æœ‰æ›´å¥½çš„åŠæ³•å‘¢ï¼Ÿ</p><h3 id="3-è‡ªåŠ¨å¤åˆ¶æ–°ç”Ÿæˆçš„-View-åˆ°-Areas-çš„-View-æ–‡ä»¶å¤¹ä¸‹"><a href="#3-è‡ªåŠ¨å¤åˆ¶æ–°ç”Ÿæˆçš„-View-åˆ°-Areas-çš„-View-æ–‡ä»¶å¤¹ä¸‹" class="headerlink" title="3. è‡ªåŠ¨å¤åˆ¶æ–°ç”Ÿæˆçš„ View åˆ° Areas çš„ View æ–‡ä»¶å¤¹ä¸‹"></a><strong>3. è‡ªåŠ¨å¤åˆ¶æ–°ç”Ÿæˆçš„ View åˆ° Areas çš„ View æ–‡ä»¶å¤¹ä¸‹</strong></h3><p>ä¸ºäº†ä½¿æˆ‘ä»¬åœ¨MyMvcAreasDemo.Adminè‡ªåŠ¨ç”Ÿæˆçš„Viewè‡ªåŠ¨åŒæ­¥åˆ°MyMvcAreasDemo/Areas/Admin/Viewsæ–‡ä»¶å¤¹ä¸­ï¼Œå¯ä»¥ä½¿ç”¨â€œç”Ÿæˆäº‹ä»¶ï¼ˆBuild Eventï¼‰â€é‡Œçš„â€œPost-Build Eventâ€ï¼Œæ‰“å¼€MyMvcAreasDemo.Adminçš„å±æ€§ï¼Œä¿®æ”¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/assets/161129_autocopybuidevent_04.png" alt></p><p>ç”Ÿæˆäº‹ä»¶ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir &quot;$(SolutionDir)$(SolutionName)\Areas\Admin\Views&quot;</span><br><span class="line">xcopy &quot;$(ProjectDir)Views&quot; &quot;$(SolutionDir)$(SolutionName)\Areas\Admin\Views&quot; /S /E /C /Y</span><br></pre></td></tr></table></figure><p>æ„æ€å…¶å®å¾ˆç®€å•ï¼Œç›¸ä¿¡å¤§å®¶éƒ½èƒ½çœ‹å¾—æ‡‚ï¼Œå°±æ˜¯å®Œå…¨å¤åˆ¶MyMvcAreasDemo.Adminçš„Viewsæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶è‡³MyMvcAreasDemo/Areas/Admin/Viewsä¸­ã€‚</p><p>ç°åœ¨å†æ¬¡è®¿é—®/Admin/Home/Listå°±å¯ä»¥å¾—åˆ°æ­£ç¡®ç»“æœäº†ï¼Œå¹¶ä¸”ä½ å¯ä»¥å‘ç°List.cshtmlå·²ç»è¢«å¤åˆ¶åˆ°MyMvcAreasDemo/Areas/Admin/Views/Homeç›®å½•é‡Œã€‚</p><h3 id="4-å¦ä¸€ç§æ€è·¯"><a href="#4-å¦ä¸€ç§æ€è·¯" class="headerlink" title="4. å¦ä¸€ç§æ€è·¯"></a><strong>4. å¦ä¸€ç§æ€è·¯</strong></h3><p>å¯ä»¥ç›´æ¥æŠŠ MyMvcAreasDemo.Admin è¿™ä¸ªé¡¹ç›®åˆ›å»ºåœ¨ Area æ–‡ä»¶å¤¹é‡Œ, è¿™é‡Œå°±å¯ä»¥çœå» æ­¥éª¤3 çš„è‡ªåŠ¨å¤åˆ¶äº†</p>]]></content>
      
      
      <categories>
          
          <category> dotnet </category>
          
      </categories>
      
      
        <tags>
            
            <tag> asp.net </tag>
            
            <tag> mvc </tag>
            
            <tag> area </tag>
            
            <tag> route </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ Visual Studio ä¸­ä½¿ç”¨ gulp</title>
      <link href="/2016/10/28/gulp_in_visualStudio/"/>
      <url>/2016/10/28/gulp_in_visualStudio/</url>
      
        <content type="html"><![CDATA[<h2 id="What-is-Gulp"><a href="#What-is-Gulp" class="headerlink" title="What is Gulp?"></a>What is Gulp?</h2><p>Gulp calls itself <em>the streaming build system</em>. No, this isnâ€™t a replacement for build systems like msbuild or nant. In this case, we are talking about building the client side parts of our applications like JavaScript files, StyleSheets (CSS, SASS or LESS) and HTML files.</p><p>The basic idea with Gulp is that you use pipes to stream a set of data (usually files) through some kind of processing. As it turns out, it is pretty easy to use and is probably best described using an example.</p><h3 id="Installing-Node-and-Gulp"><a href="#Installing-Node-and-Gulp" class="headerlink" title="Installing Node and Gulp"></a>Installing Node and Gulp</h3><p>If you donâ€™t already have it installed, <a href="http://nodejs.org/" target="_blank" rel="noopener">download and install node.js</a>.</p><blockquote><p>If you are using VS 2015 and ASP.NET 5, Visual Studio will install npm and gulp for you automatically.</p></blockquote><p>Once node is installed, we need to install gulp using the node package manager (npm). From the command line, run</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp -g</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="Setting-up-your-Visual-Studio-project"><a href="#Setting-up-your-Visual-Studio-project" class="headerlink" title="Setting up your Visual Studio project"></a>Setting up your Visual Studio project</h3><p>Rather than create a new sample project here, Iâ€™m going to use the <a href="http://www.johnpapa.net/hot-towel-angular/" target="_blank" rel="noopener">Hot Towel SPA template</a> from <a href="http://www.johnpapa.net/" target="_blank" rel="noopener">John Papa</a>. First, I will create an new empty web application and then install the HotTowel.Angular nuget package.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Install-Package HotTowel.Angular</span><br></pre></td></tr></table></figure><p>I wanted to use this template as an example because it is a perfect candidate for Gulp. The application is written using AngularJS and the code is split across 14 different JS files. From a code maintenance / readability standpoint, it is definitely good to split the code into files like this. From an application loading performance standpoint however, loading 14 separate JS files is generally not a great idea.</p><h3 id="Initializing-our-project-for-Gulp"><a href="#Initializing-our-project-for-Gulp" class="headerlink" title="Initializing our project for Gulp"></a>Initializing our project for Gulp</h3><p>First, we need to create a package.json file in the root directory of the your project. We can do this by running npm init on the command line or simply creating a file with the following contents:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">   &quot;name&quot;: &quot;YourProjectName&quot;,</span><br><span class="line"></span><br><span class="line">   &quot;version&quot;: &quot;1.0.0&quot;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Next, we will install a few packages that we will use for this project. Run the following commands from the same folder that you added the <code>package.json</code> file.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp --save-dev</span><br><span class="line">npm install gulp-concat --save-dev</span><br><span class="line">npm install gulp-uglify --save-dev</span><br><span class="line">npm install del --save-dev</span><br></pre></td></tr></table></figure><p>Note, the â€“save-dev option here is telling node to add these packages to a devDependencies section in the package.json file and install the packages in a node_modules folder in the current folder . At any time, you or another developer on your team can re-install all the devDependencies by simply running <strong><code>npm install</code></strong>.</p><blockquote><p>the gulpfile.js content can change whatever you want</p></blockquote><p>Finally, create a gulpfile.js file in the same folder.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">// include plug-ins</span><br><span class="line">var gulp = require(&apos;gulp&apos;);</span><br><span class="line">var concat = require(&apos;gulp-concat&apos;);</span><br><span class="line">var uglify = require(&apos;gulp-uglify&apos;);</span><br><span class="line">var del = require(&apos;del&apos;);</span><br><span class="line"></span><br><span class="line">var config = &#123;</span><br><span class="line">    //Include all js files but exclude any min.js files</span><br><span class="line">    src: [&apos;app/**/*.js&apos;, &apos;!app/**/*.min.js&apos;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//delete the output file(s)</span><br><span class="line">gulp.task(&apos;clean&apos;, function () &#123;</span><br><span class="line">    //del is an async function and not a gulp plugin (just standard nodejs)</span><br><span class="line">    //It returns a promise, so make sure you return that from this task function</span><br><span class="line">    //  so gulp knows when the delete is complete</span><br><span class="line">    return del([&apos;app/all.min.js&apos;]);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// Combine and minify all files from the app folder</span><br><span class="line">// This tasks depends on the clean task which means gulp will ensure that the </span><br><span class="line">// Clean task is completed before running the scripts task.</span><br><span class="line">gulp.task(&apos;scripts&apos;, [&apos;clean&apos;], function () &#123;</span><br><span class="line"></span><br><span class="line">    return gulp.src(config.src)</span><br><span class="line">      .pipe(uglify())</span><br><span class="line">      .pipe(concat(&apos;all.min.js&apos;))</span><br><span class="line">      .pipe(gulp.dest(&apos;app/&apos;));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//Set a default tasks</span><br><span class="line">gulp.task(&apos;default&apos;, [&apos;scripts&apos;], function () &#123; &#125;);</span><br></pre></td></tr></table></figure><p>Now, run gulp from the command line and you should see some output stating that scripts task is completed successfully.</p><p>This will have created an all.min.js file that contains minified JavaScript from all the js files in the app folder.</p><p>Now we include all.min.js in the Visual Studio project and replace the 14 separate script includes with a single include to the new script.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;app/all.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="Watching-for-changes"><a href="#Watching-for-changes" class="headerlink" title="Watching for changes"></a>Watching for changes</h3><p>Wouldnâ€™t it be nice gulp could automatically re-run the scripts task whenever we make a change any of our js files? Sure, we can do that!</p><p>Add the following to our <code>gulpfile.js</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;watch&apos;, function()&#123;</span><br><span class="line">    return gulp.watch(config.src, [&apos;scripts&apos;]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>Now, if we run <code>gulp watch</code> from the command line, our new <code>watch</code> task will watch for changes to any of our js files. When a change is detected it will trigger the <code>scripts</code> task to execute, regenerating the all.min.js file.</p><p>You can learn more about gulp.watch <a href="https://github.com/gulpjs/gulp/blob/master/docs/API.md#gulpwatchglob--opts-tasks-or-gulpwatchglob--opts-cb" target="_blank" rel="noopener">here</a>. Note that at this time, the built in gulp.watch has some bugs that stop it from watching new files. These should be fixed soon but in the mean time you might want to use use the popular <a href="https://github.com/floatdrop/gulp-watch/blob/master/docs/readme.md#starting-tasks-on-events" target="_blank" rel="noopener">gulp-watch plugin</a>.</p><h3 id="Integrating-with-Visual-Studio"><a href="#Integrating-with-Visual-Studio" class="headerlink" title="Integrating with Visual Studio"></a>Integrating with Visual Studio</h3><p>So far, we have been working primarily in the command line. It would be nice if we could integrate with our existing Visual Studio experience.</p><p>Luckily, we can with the new <a href="http://visualstudiogallery.msdn.microsoft.com/8e1b4368-4afb-467a-bc13-9650572db708" target="_blank" rel="noopener">Task Runner Explorer</a> plugin. Once the plugin is installed, open the Task Runner Explorer from the View â€“&gt; Other Windows â€“&gt; Task Runner Explorer menu.</p><p>This window will show you all the tasks in the gulp file and allow you to bind those tasks to certain Visual Studio events. This way, we donâ€™t need to remember to run the gulp tasks from the command line. The IDE can handle it for us.</p><p>What I like to do is bind the <code>watch</code> task to the Solution Open event and bind the <code>scripts</code> task to the <em>Before Build</em> event.</p><p>With these bindings, we can make sure that all.min.js is correctly generated when we build the application and also regenerated anytime I make changes to the js files.</p><p>The Task Runner Explorer also shows the output of any running tasks. Here you can see the output from the watch task, which is always running in the background in this configuration.</p><h3 id="Development-vs-Production"><a href="#Development-vs-Production" class="headerlink" title="Development vs Production"></a>Development vs Production</h3><p>To simplify debugging, you may want to include all your individual scripts in a development build and only include the single concatenated/minified script in your production build. Take a look at my post on <a href="http://www.davepaquette.com/archive/2015/05/05/web-optimization-development-and-production-in-asp-net-mvc6.aspx" target="_blank" rel="noopener">Web Optimization in ASP.NET Core MVC</a> for some ideas on how to this can be accomplished. That post covers ASP.NET Core MVC but a similar approach could be used in MVC 5. With the following in your cshtml file, the individual files would be included when debug=â€trueâ€ is set in your web.config. If debug=â€falseâ€, then only the single concatenated/minified file is included.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">@if (HttpContext.Current.IsDebuggingEnabled)</span><br><span class="line">&#123;</span><br><span class="line">    &lt;!-- Bootstrapping --&gt;</span><br><span class="line">    &lt;script src=&quot;app/app.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;app/config.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;app/config.exceptionHandler.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;app/config.route.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- common Modules --&gt;</span><br><span class="line">    &lt;script src=&quot;app/common/common.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;app/common/logger.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;app/common/spinner.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- common.bootstrap Modules --&gt;</span><br><span class="line">    &lt;script src=&quot;app/common/bootstrap/bootstrap.dialog.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- app --&gt;</span><br><span class="line">    &lt;script src=&quot;app/admin/admin.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;app/dashboard/dashboard.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;app/layout/shell.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;app/layout/sidebar.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- app Services --&gt;</span><br><span class="line">    &lt;script src=&quot;app/services/datacontext.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;app/services/directives.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">    &lt;script src=&quot;app/all.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Note that this only works for cshtml files in an MVC application as it requires the Razor view engine.</p>]]></content>
      
      
      
        <tags>
            
            <tag> Visual Stduio </tag>
            
            <tag> gulp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git pullæ—¶ä¿å­˜æˆ–åˆ é™¤å‡­è¯</title>
      <link href="/2016/10/19/git-command/"/>
      <url>/2016/10/19/git-command/</url>
      
        <content type="html"><![CDATA[<ul><li><p>è®¾ç½®ç”¨æˆ·åé‚®ç®±</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --system user.name &quot;bogerv&quot;</span><br><span class="line">git config --system user.email &quot;bogerv@163.com&quot;</span><br></pre></td></tr></table></figure></li><li><p>è®¾ç½®åˆ«å</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.st status</span><br><span class="line">git config --global alias.co checkout</span><br><span class="line">git config --global alias.br branch</span><br><span class="line">git config --global alias.ci commit</span><br><span class="line">git config --global alias.st status</span><br><span class="line">git config --global alias.mg merge</span><br><span class="line">git config --global alias.last &quot;log -1 HEAD&quot;</span><br></pre></td></tr></table></figure></li><li><p>ä¿å­˜Gitå‡­è¯</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --local credential.helper store</span><br></pre></td></tr></table></figure></li><li><p>åˆ é™¤å·²ç»ä¿å­˜çš„å‡­è¯</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --local credential.helper remove</span><br></pre></td></tr></table></figure></li><li><p>åŒæ­¥å·²åˆ é™¤åˆ†æ”¯</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote prune origin</span><br></pre></td></tr></table></figure></li><li><p>è§£å†³githubå›¾ç‰‡ä¸æ˜¾ç¤ºé—®é¢˜</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># ä¿®æ”¹ hosts æ–‡ä»¶</span><br><span class="line"># windows: C:\Windows\System32\drivers\etc</span><br><span class="line"># Mac: `sudo vim /etc/hosts`</span><br><span class="line"># GitHub Start</span><br><span class="line">192.30.253.112    github.com</span><br><span class="line">192.30.253.119    gist.github.com</span><br><span class="line">151.101.184.133    assets-cdn.github.com</span><br><span class="line">151.101.184.133    raw.githubusercontent.com</span><br><span class="line">151.101.184.133    gist.githubusercontent.com</span><br><span class="line">151.101.184.133    cloud.githubusercontent.com</span><br><span class="line">151.101.184.133    camo.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars0.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars1.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars2.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars3.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars4.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars5.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars6.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars7.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars8.githubusercontent.com</span><br><span class="line"># GitHub End</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨æ–°çš„ç¯å¢ƒä½¿æ­å»ºHexoæ“ä½œæ­¥éª¤</title>
      <link href="/2016/10/19/steps/"/>
      <url>/2016/10/19/steps/</url>
      
        <content type="html"><![CDATA[<h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><a id="more"></a><ol start="0"><li>ç¡®ä¿å·²ç»å®‰è£…äº† <a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">Hexo</a></li><li>ä» <a href="www.github.com">Github</a> Cloneé¡¹ç›®åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹</li><li>è¿›å…¥Cloneå®Œæˆåçš„æ–‡ä»¶å¤¹å†…</li><li>æ‰§è¡Œ <code>git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia</code></li><li>æ ¹æ® <code>theme_source_config</code> é‡Œçš„æ–‡ä»¶å¯¹æ¯”ä¿®æ”¹ <code>themes/yilia/</code> é‡Œçš„æ–‡ä»¶</li><li>ä¹‹åå°±å¯ä»¥åœ¨æ ¹ç›®å½•çš„ <code>source</code> æ–‡ä»¶å¤¹ (æ³¨æ„: ä¸æ˜¯<code>theme/yilia</code>ä¸‹çš„ <code>source</code>) ä¸­æ·»åŠ <code>Markdown</code>æ–‡ä»¶äº†</li><li>æ‰§è¡Œ <code>hexo</code> çš„ç›¸åº”æ“ä½œ</li></ol><h2 id="yiliaä¸»é¢˜æ“ä½œ"><a href="#yiliaä¸»é¢˜æ“ä½œ" class="headerlink" title="yiliaä¸»é¢˜æ“ä½œ"></a>yiliaä¸»é¢˜æ“ä½œ</h2><p>åœ°å€: <strong><a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="noopener">https://github.com/litten/hexo-theme-yilia</a></strong></p><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p><code>$ git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia</code></p><p style="color:red;">å¯ä»¥æ›´æ”¹åç§°, ä½†è¦ä¸ _config.yml ä¸­å¡«å†™çš„ä¸»é¢˜åç§°ä¸€è‡´</p><h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><blockquote><p>ä¿®æ”¹ hexoæ ¹ç›®å½•(Cloneå®Œæˆåçš„æ–‡ä»¶å¤¹) ä¸‹çš„_config.yml ï¼š theme: yilia</p></blockquote><h4 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd themes/yilia</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure><h3 id="é…ç½®æ–‡ä»¶è¯´æ˜"><a href="#é…ç½®æ–‡ä»¶è¯´æ˜" class="headerlink" title="é…ç½®æ–‡ä»¶è¯´æ˜"></a>é…ç½®æ–‡ä»¶è¯´æ˜</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"># Header</span><br><span class="line"></span><br><span class="line">menu:</span><br><span class="line">  ä¸»é¡µ: /</span><br><span class="line">  éšç¬”: /essay</span><br><span class="line">  å¿ƒç‹¬ç™½: /inner_monologue</span><br><span class="line"></span><br><span class="line"># SubNav</span><br><span class="line">subnav:</span><br><span class="line">  github: &quot;https://github.com/bogerv&quot;</span><br><span class="line">  weibo: &quot;#&quot;</span><br><span class="line">  #rss: &quot;#&quot;</span><br><span class="line">  zhihu: &quot;#&quot;</span><br><span class="line">  #douban: &quot;#&quot;</span><br><span class="line">  #mail: &quot;mailto:litten225@qq.com&quot;</span><br><span class="line">  #facebook: &quot;#&quot;</span><br><span class="line">  #google: &quot;#&quot;</span><br><span class="line">  #twitter: &quot;#&quot;</span><br><span class="line">  #linkedin: &quot;#&quot;</span><br><span class="line"></span><br><span class="line">rss: /atom.xml</span><br><span class="line"></span><br><span class="line"># æ˜¯å¦éœ€è¦ä¿®æ”¹ root è·¯å¾„</span><br><span class="line"># å¦‚æœæ‚¨çš„ç½‘ç«™å­˜æ”¾åœ¨å­ç›®å½•ä¸­ï¼Œä¾‹å¦‚ http://yoursite.com/blogï¼Œ</span><br><span class="line"># è¯·å°†æ‚¨çš„ url è®¾ä¸º http://yoursite.com/blog å¹¶æŠŠ root è®¾ä¸º /blog/ã€‚</span><br><span class="line">root: </span><br><span class="line"></span><br><span class="line"># Content</span><br><span class="line"></span><br><span class="line"># æ–‡ç« å¤ªé•¿ï¼Œæˆªæ–­æŒ‰é’®æ–‡å­—</span><br><span class="line">excerpt_link: more</span><br><span class="line"># æ–‡ç« å¡ç‰‡å³ä¸‹è§’å¸¸é©»é“¾æ¥ï¼Œä¸éœ€è¦è¯·è®¾ç½®ä¸ºfalse</span><br><span class="line">show_all_link: &apos;å±•å¼€å…¨æ–‡&apos;</span><br><span class="line"># æ•°å­¦å…¬å¼</span><br><span class="line">mathjax: false</span><br><span class="line"># æ˜¯å¦åœ¨æ–°çª—å£æ‰“å¼€é“¾æ¥</span><br><span class="line">open_in_new: false</span><br><span class="line"></span><br><span class="line"># æ‰“èµ</span><br><span class="line"># è¯·åœ¨éœ€è¦æ‰“èµçš„æ–‡ç« çš„mdæ–‡ä»¶å¤´éƒ¨ï¼Œè®¾ç½®å±æ€§reward: true</span><br><span class="line"></span><br><span class="line"># æ‰“èµåŸºç¡€è®¾å®šï¼š0-å…³é—­æ‰“èµï¼› 1-æ–‡ç« å¯¹åº”çš„mdæ–‡ä»¶é‡Œæœ‰reward:trueå±æ€§ï¼Œæ‰æœ‰æ‰“èµï¼› 2-æ‰€æœ‰æ–‡ç« å‡æœ‰æ‰“èµ</span><br><span class="line">reward_type: 1</span><br><span class="line"># æ‰“èµwording</span><br><span class="line">reward_wording: &apos;è°¢è°¢ä½ è¯·æˆ‘åƒç³–æœ&apos;</span><br><span class="line"># æ”¯ä»˜å®äºŒç»´ç å›¾ç‰‡åœ°å€ï¼Œè·Ÿä½ è®¾ç½®å¤´åƒçš„æ–¹å¼ä¸€æ ·ã€‚æ¯”å¦‚ï¼š/assets/img/alipay.jpg</span><br><span class="line">alipay: </span><br><span class="line"># å¾®ä¿¡äºŒç»´ç å›¾ç‰‡åœ°å€</span><br><span class="line">weixin: </span><br><span class="line"></span><br><span class="line"># Miscellaneous</span><br><span class="line">google_analytics: &apos;&apos;</span><br><span class="line">favicon: favicon.png</span><br><span class="line"></span><br><span class="line">#ä½ çš„å¤´åƒurl</span><br><span class="line">avatar: /assets/img/favicon.jpg</span><br><span class="line"></span><br><span class="line">#æ˜¯å¦å¼€å¯åˆ†äº«</span><br><span class="line">share_jia: false</span><br><span class="line"></span><br><span class="line">#æ˜¯å¦å¼€å¯å¤šè¯´è¯„è®ºï¼Œå¡«å†™ä½ åœ¨å¤šè¯´ç”³è¯·çš„é¡¹ç›®åç§° duoshuo: duoshuo-key</span><br><span class="line">#è‹¥ä½¿ç”¨disqusï¼Œè¯·åœ¨åšå®¢configæ–‡ä»¶ä¸­å¡«å†™disqus_shortnameï¼Œå¹¶å…³é—­å¤šè¯´è¯„è®º</span><br><span class="line">duoshuo: false</span><br><span class="line"></span><br><span class="line"># æ™ºèƒ½èœå•</span><br><span class="line"># å¦‚ä¸éœ€è¦ï¼Œå°†è¯¥å¯¹åº”é¡¹ç½®ä¸ºfalse</span><br><span class="line"># æ¯”å¦‚</span><br><span class="line">#smart_menu:</span><br><span class="line">#  friends: false</span><br><span class="line">smart_menu:</span><br><span class="line">  innerArchive: &apos;æ‰€æœ‰æ–‡ç« &apos;</span><br><span class="line">  friends: &apos;å‹é“¾&apos;</span><br><span class="line">  aboutme: &apos;å…³äºæˆ‘&apos;</span><br><span class="line"></span><br><span class="line">friends:</span><br><span class="line">  å‹æƒ…é“¾æ¥1: http://localhost:4000/</span><br><span class="line">  å‹æƒ…é“¾æ¥2: http://localhost:4000/</span><br><span class="line">  å‹æƒ…é“¾æ¥3: http://localhost:4000/</span><br><span class="line">  å‹æƒ…é“¾æ¥4: http://localhost:4000/</span><br><span class="line">  å‹æƒ…é“¾æ¥5: http://localhost:4000/</span><br><span class="line">  å‹æƒ…é“¾æ¥6: http://localhost:4000/</span><br><span class="line"></span><br><span class="line">aboutme: å¾ˆæƒ­æ„§&lt;br&gt;&lt;br&gt;åªåšäº†ä¸€ç‚¹å¾®å°çš„å·¥ä½œ&lt;br&gt;è°¢è°¢å¤§å®¶</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Markdown å¸¸ç”¨è¯­æ³•</title>
      <link href="/2016/10/08/markdown/"/>
      <url>/2016/10/08/markdown/</url>
      
        <content type="html"><![CDATA[<h2 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h2><p>æ ‡é¢˜å¯åˆ†ä¸ºå…­çº§æ ‡é¢˜, # é€çº§é€’åŠ .</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># ä¸€çº§æ ‡é¢˜</span><br><span class="line">## äºŒçº§æ ‡é¢˜</span><br><span class="line">### ä¸‰çº§æ ‡é¢˜</span><br><span class="line">#### å¸æœºæ ‡é¢˜</span><br><span class="line">##### äº”çº§æ ‡é¢˜</span><br><span class="line">###### å…­çº§æ ‡é¢˜</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><h4 id="æ— åºåˆ—è¡¨"><a href="#æ— åºåˆ—è¡¨" class="headerlink" title="æ— åºåˆ—è¡¨"></a>æ— åºåˆ—è¡¨</h4><p>æ— åºåˆ—è¡¨ä»¥ <code>*</code> æˆ–è€… <code>-</code> å¼€å¤´</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* æ–‡æœ¬1</span><br><span class="line">* æ–‡æœ¬1</span><br><span class="line">* æ–‡æœ¬1</span><br><span class="line"></span><br><span class="line">- æ–‡æœ¬1</span><br><span class="line">- æ–‡æœ¬1</span><br><span class="line">- æ–‡æœ¬1</span><br></pre></td></tr></table></figure><h4 id="æœ‰åºåˆ—è¡¨"><a href="#æœ‰åºåˆ—è¡¨" class="headerlink" title="æœ‰åºåˆ—è¡¨"></a>æœ‰åºåˆ—è¡¨</h4><p>æœ‰åºåˆ—è¡¨ä»¥ <code>1.</code> <code>2.</code> <code>3.</code>å¼€å¤´</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. æ–‡æœ¬1</span><br><span class="line">2. æ–‡æœ¬2</span><br><span class="line">3. æ–‡æœ¬3</span><br></pre></td></tr></table></figure><h2 id="é“¾æ¥å’Œå›¾ç‰‡"><a href="#é“¾æ¥å’Œå›¾ç‰‡" class="headerlink" title="é“¾æ¥å’Œå›¾ç‰‡"></a>é“¾æ¥å’Œå›¾ç‰‡</h2><h4 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Google](www.google.com)</span><br></pre></td></tr></table></figure><h4 id="é”šç‚¹"><a href="#é”šç‚¹" class="headerlink" title="é”šç‚¹"></a>é”šç‚¹</h4><p>è·³è½¬åˆ°<a href="#abcd">bookmark_text</a>ä½ç½®<br>æˆ–è€…<br>è·³è½¬åˆ°<a href="#abcd">abcd</a>ä½ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è·³è½¬åˆ°&lt;a href=&quot;#abcd&quot;&gt;bookmark_text&lt;/a&gt;ä½ç½®</span><br><span class="line">æˆ–è€…</span><br><span class="line">è·³è½¬åˆ°[abcd](#abcd)ä½ç½®</span><br></pre></td></tr></table></figure><p><span id="abcd">æˆ‘æ˜¯abcd</span></p><h4 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![](http://bogerv.wang/favicon.png)</span><br></pre></td></tr></table></figure><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; æŠ«ç¹¡é—¥, ä¿¯é›•ç”, å±±åŸæ› å…¶ç›ˆè¦–, å·æ¾¤ç´†å…¶é§­çŸš. é–­é–»æ’²åœ°, é˜é³´é¼é£Ÿä¹‹å®¶;</span><br><span class="line">&gt; èˆ¸è‰¦è¿·æ´¥, é’é›€é»ƒé¾ä¹‹èˆ³. é›²éŠ·é›¨éœ½, å½©å¾¹å€æ˜. è½éœèˆ‡å­¤é¶©é½Šé£›, ç§‹æ°´å…±é•·å¤©ä¸€è‰².</span><br><span class="line">&gt; æ¼èˆŸå”±æ™š, éŸ¿çª®å½­è ¡ä¹‹æ¿±, é›é™£é©šå¯’, è²æ–·è¡¡é™½ä¹‹æµ¦.</span><br></pre></td></tr></table></figure><h2 id="ç²—ä½“å’Œæ–œä½“"><a href="#ç²—ä½“å’Œæ–œä½“" class="headerlink" title="ç²—ä½“å’Œæ–œä½“"></a>ç²—ä½“å’Œæ–œä½“</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">**ç²—ä½“**</span><br><span class="line">*æ–œä½“*</span><br></pre></td></tr></table></figure><h2 id="ä»£ç å¼•ç”¨"><a href="#ä»£ç å¼•ç”¨" class="headerlink" title="ä»£ç å¼•ç”¨"></a>ä»£ç å¼•ç”¨</h2><h4 id="å•è¡Œå¼•ç”¨"><a href="#å•è¡Œå¼•ç”¨" class="headerlink" title="å•è¡Œå¼•ç”¨"></a>å•è¡Œå¼•ç”¨</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`console.log(&apos;hello, world!&apos;)`</span><br></pre></td></tr></table></figure><h4 id="å¤šè¡Œå¼•ç”¨"><a href="#å¤šè¡Œå¼•ç”¨" class="headerlink" title="å¤šè¡Œå¼•ç”¨"></a>å¤šè¡Œå¼•ç”¨</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">`` ` csharp</span><br><span class="line">var hello = &quot;hello, world!&quot;;</span><br><span class="line">System.WriteLine(hello);</span><br><span class="line">`` `</span><br><span class="line">`` ` javascript</span><br><span class="line">var hello = &apos;hello, world!&apos;;</span><br><span class="line">console.log(hello);</span><br><span class="line">`` `</span><br><span class="line">æ³¨: å»æ‰ä¸Šé¢`` `ä¸­çš„ç©ºæ ¼</span><br></pre></td></tr></table></figure><h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| Tables        | Are           | Cool  |</span><br><span class="line">| ------------- |:-------------:| -----:|</span><br><span class="line">| col 3 is      | right-aligned | $1600 |</span><br><span class="line">| col 2 is      | centered      |   $12 |</span><br><span class="line">| zebra stripes | are neat      |    $1 |</span><br></pre></td></tr></table></figure><h2 id="æ˜¾ç¤ºé“¾æ¥ä¸­å¸¦æ‹¬å·çš„å›¾ç‰‡"><a href="#æ˜¾ç¤ºé“¾æ¥ä¸­å¸¦æ‹¬å·çš„å›¾ç‰‡" class="headerlink" title="æ˜¾ç¤ºé“¾æ¥ä¸­å¸¦æ‹¬å·çš„å›¾ç‰‡"></a>æ˜¾ç¤ºé“¾æ¥ä¸­å¸¦æ‹¬å·çš„å›¾ç‰‡</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">![][1]</span><br><span class="line">[1]: http://latex.codecogs.com/gif.latex?\prod%20\(n_&#123;i&#125;\)+1</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
